\documentclass[12pt,a4paper]{book}
\usepackage[utf8x]{inputenc}   % omogoča uporabo slovenskih črk kodiranih v formatu UTF-8
\usepackage[slovene,english]{babel}    % naloži, med drugim, slovenske delilne vzorce
\usepackage[pdftex]{graphicx}  % omogoča vlaganje slik različnih formatov
\usepackage{fancyhdr}          % poskrbi, na primer, za glave strani
\usepackage{comment}
\usepackage[pdftex, colorlinks=true,
						citecolor=black, filecolor=black, 
						linkcolor=black, urlcolor=black,
						pagebackref=false, 
						pdfproducer={LaTeX}, pdfcreator={LaTeX}, hidelinks]{hyperref}
\usepackage{color}       % dodal Solina
%\usepackage{soul}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}

\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{enumitem}
\usepackage{commath}
\usepackage{array,xparse}

\usepackage{ulem} % ta knjižnica redefinira komando \emph
% ta komanda jo nastavi nazaj na privzeto vrednost
\normalem

\usepackage{tikz-cd} 
\usetikzlibrary{babel} % this fixes problems with tikz-cd
% http://tex.stackexchange.com/questions/166772/problem-with-babel-and-tikz-using-draw



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%	DIPLOMA INFO
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\ttitle}{Yonedova lema in njena uporaba}
\newcommand{\ttitleEn}{Naslov EN}
\newcommand{\tsubject}{\ttitle}
\newcommand{\tsubjectEn}{\ttitleEn}
\newcommand{\tauthor}{Jure Taslak}
\newcommand{\tkeywords}{računalnik, računalnik, računalnik}
\newcommand{\tkeywordsEn}{computer, computer, computer}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% naslovi
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
\newcommand{\autfont}{\Large}
\newcommand{\titfont}{\LARGE\bf}
\newcommand{\clearemptydoublepage}{\newpage{\pagestyle{empty}\cleardoublepage}}
\setcounter{tocdepth}{1}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%									%
% konstrukti						%
%									%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  

\theoremstyle{definition}
\newtheorem{definicija}{Definicija}[chapter]
 
\theoremstyle{plain}
\newtheorem{izrek}[definicija]{Izrek}
\newtheorem{trditev}[definicija]{Trditev}
\newtheorem{lema}[definicija]{Lema}
\newtheorem{posledica}{Posledica}
\newenvironment{dokaz}{\emph{Dokaz.}\ }{\hspace{\fill}{$\Box$}}

\theoremstyle{definition}
\newtheorem{primer}{Primer}[section]
\newtheorem*{primer*}{Primer}

\theoremstyle{remark}
\newtheorem*{opomba}{Opomba}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%								%
%	Tikz-cd nastavitve			%
%								%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\tikzcdset{
 	diagrams={sep=large},
	labels={font=\small}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Avtor in naslov			%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\author{Jure Taslak}
\title{Yonedova lema in njena uporaba}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% pdfInfo
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
\pdfinfo{%
    /Title    (\ttitle)
    /Author   (\tauthor, damjan@cvetan.si)
    /Subject  (\ttitleEn)
    /Keywords (\tkeywordsEn)
    /ModDate  (\pdfcreationdate)
    /Trapped  /False
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%									%
% 		Misc						%
%									%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\eqtext}[1]{\stackrel{\mathclap{\normalfont\mbox{#1}}}{=}} % write text over =
% could use a way to make the text smaller

\newcommand{\cat}[1]{\textbf{#1}}
\newcommand{\homset}[2]{\mathrm{Hom(#1,#2)}}

\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\colim}{colim}

\renewcommand{\set}[1]{\{\,#1\,\}}

\newcommand{\fprod}[1]{\langle #1 \rangle}

\newcommand{\predsnop}[1]{\cat{Sets}^{\cat{#1}^{op}}}

% \newcommand{\coprod}[2]{\cat{#1} + \cat{#2}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Two-way rule for adjunction
%TODO make this more usefull
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ExplSyntaxOn
\NewDocumentEnvironment{adjunctions}{O{}}
 {
  \cs_set_eq:cN {@arraycr} \farin_arraycr:
  \keys_set:nn { farin/adjunction } { #1 }
  \begin{array}
   {
    @{ \hspace { \dim_eval:n { \l_farin_left_shift_dim + \l_farin_padding_dim } } }
    r
    @{ {\farin_strut:} \l_farin_symbol_tl {} }
    l
    @{ \hspace { \dim_eval:n { \l_farin_right_shift_dim + \l_farin_padding_dim } } }
   }
 }
 {
  \end{array}
 }
\keys_define:nn { farin/adjunction }
 {
  leftshift       .dim_set:N = \l_farin_left_shift_dim,
  leftshift       .initial:n = 0pt,
  rightshift      .dim_set:N = \l_farin_right_shift_dim,
  rightshift      .initial:n = 0pt,
  padding         .dim_set:N = \l_farin_padding_dim,
  padding         .initial:n = 6pt,
  symbol          .tl_set:N  = \l_farin_symbol_tl,
  symbol          .initial:n = \longrightarrow,
  verticalspacing .dim_set:N  = \l_farin_vertspac_dim,
  verticalspacing .initial:n = {3pt},
 }
\cs_new_protected:Npn \farin_strut:
 {
  \vrule height \dim_eval:n { \ht\strutbox + 1.2\l_farin_vertspac_dim }
         depth  \dim_eval:n { \dp\strutbox + \l_farin_vertspac_dim }
         width 0pt
 }
\makeatletter
\exp_args:NNo \cs_new:Npn \farin_arraycr:
 {
  \@arraycr\hline
 }
\makeatother
\ExplSyntaxOff


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
\selectlanguage{slovene}
\frontmatter
\setcounter{page}{1} %
\renewcommand{\thepage}{}       % preprecimo težave s številkami strani v kazalu
\newcommand{\sn}[1]{"`#1"'}                    % dodal Solina (slovenski narekovaji)



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%naslovnica
 \thispagestyle{empty}%
   \begin{center}
    {\large\sc Univerza v Ljubljani\\%
      Fakulteta za računalništvo in informatiko}%
    \vskip 10em%
    {\autfont \tauthor\par}%
    {\titfont \ttitle \par}%
    {\vskip 3em \textsc{DIPLOMSKO DELO\\[5mm]
    INTERDISCIPLINARNI UNIVERZITETNI\\ ŠTUDIJSKI PROGRAM PRVE STOPNJE\\ RAČUNALNIŠTVO IN MATEMATIKA}\par}%

    \vfill\null%
    {\large \textsc{Mentor}: prof.\ dr.  Andrej Bauer\par}%
    {\vskip 2em \large Ljubljana, 2017 \par}%
\end{center}
% prazna stran
%\clearemptydoublepage      % dodal Solina (izjava o licencah itd. se izpiše na hrbtni strani naslovnice)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%copyright stran
\thispagestyle{empty}
\vspace*{8cm}

\noindent
{\sc Copyright}. 
Rezultati diplomske naloge so intelektualna lastnina avtorja in Fakultete za računalništvo in informatiko Univerze v Ljubljani.
Za objavo in koriščenje rezultatov diplomske naloge je potrebno pisno privoljenje avtorja, Fakultete za računalništvo in informatiko ter mentorja.

\begin{center}
\mbox{}\vfill
\emph{Besedilo je oblikovano z urejevalnikom besedil \LaTeX.}
\end{center}
% prazna stran
\clearemptydoublepage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% stran 3 med uvodnimi listi
\thispagestyle{empty}
\vspace*{4cm}

\noindent
Fakulteta za računalništvo in informatiko izdaja naslednjo nalogo:
\medskip
\begin{tabbing}
\hspace{32mm}\= \hspace{6cm} \= \kill


Tematika naloge:
\end{tabbing}
Besedilo teme diplomskega dela študent prepiše iz študijskega informacijskega sistema, kamor ga je vnesel mentor. V nekaj stavkih bo opisal, kaj pričakuje od kandidatovega diplomskega dela. Kaj so cilji, kakšne metode uporabiti, morda bo zapisal tudi ključno literaturo.
\vspace{15mm}

\vspace{2cm}

% prazna stran
\clearemptydoublepage

% zahvala
\thispagestyle{empty}\mbox{}\vfill\null\it%
\noindent
Na tem mestu zapišite, komu se zahvaljujete za izdelavo diplomske naloge. Pazite, da ne boste koga pozabili. Utegnil vam bo zameriti. Temu se da izogniti tako, da celotno zahvalo izpustite.
\rm\normalfont

% prazna stran
\clearemptydoublepage

Pozdrav

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% posvetilo, če sama zahvala ne zadošča :-)
\thispagestyle{empty}\mbox{}{\vskip0.20\textheight}\mbox{}\hfill\begin{minipage}{0.55\textwidth}%

\normalfont\end{minipage}

% prazna stran
\clearemptydoublepage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% kazalo
\pagestyle{empty}
\def\thepage{}% preprecimo tezave s stevilkami strani v kazalu
\tableofcontents{}

% prazna stran
\clearemptydoublepage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% povzetek
\addcontentsline{toc}{chapter}{Povzetek}
\chapter*{Povzetek}

\noindent\textbf{Naslov:} \ttitle
\bigskip

\noindent\textbf{Avtor:} \tauthor
\bigskip

%\noindent\textbf{Povzetek:} 
\noindent V vzorcu je predstavljen postopek priprave diplomskega dela z uporabo okolja \LaTeX. Vaš povzetek mora sicer vsebovati približno 100 besed, ta tukaj je odločno prekratek.
Dober povzetek vključuje: (1) kratek opis obravnavanega problema, (2) kratek opis vašega pristopa za reševanje tega problema in (3) (najbolj uspešen) rezultat ali prispevek magistrske naloge.

\bigskip

\noindent\textbf{Ključne besede:} \tkeywords.
% prazna stran
\clearemptydoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% abstract
\selectlanguage{english}
\addcontentsline{toc}{chapter}{Abstract}
\chapter*{Abstract}

\noindent\textbf{Title:} \ttitleEn
\bigskip

\noindent\textbf{Author:} \tauthor
\bigskip

%\noindent\textbf{Abstract:} 
\noindent This sample document presents an approach to typesetting your BSc thesis using \LaTeX. 
A proper abstract should contain around 100 words which makes this one way too short.
\bigskip

\noindent\textbf{Keywords:} \tkeywordsEn.
\selectlanguage{slovene}
% prazna stran
\clearemptydoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\mainmatter
\setcounter{page}{1}
\pagestyle{fancy}

\chapter{Uvod}
Kaj je teorija kategorij? Kako se razlikuje od običajnega pogleda na matematiko?

\section{Osnovne Definicije}

\begin{definicija}
\emph{Kategorija} sestoji iz naslednjih stvari:
\begin{itemize}
\item \emph{Objektov} : $A,B,C,X,Y,\ldots$
\item \emph{Morfizmov} : $f,g,h,\ldots$
\item Za vsak morfizem imamo podana dva objekta: $$dom(f), \quad cod(f).$$
ki jima pravimo domena in kodomena morfizma $f$. Pišemo:
$$f\colon A \to B$$
kjer sta $A = dom(f)$ in $B = cod(f)$.
Pravimo da $f$ gre od $A$ do $B$.
\item Za vsaka morfizma $f \colon A \to B$ in $g \colon B \to C$, torej taka da velja $cod(f)$ = $dom(g)$, obstaja morfizem $g\circ A \to C$, ki mu pravimo \emph{kompozitum} $f$ in $g$.
%
\[
\begin{tikzcd}
A \arrow[r, "f"] \arrow[rd, "g \circ f"']  & B  \arrow[d, "g"] \\
				& C
\end{tikzcd}
\] 
%
\item Za vsak objekt $A$ obstaja morfizem
$$1_A : A \to A$$
ki mu pravimo \emph{identiteta} na A.		
\end{itemize}
Za vse te podatke morata veljati naslednji dve pravili:
\begin{itemize}
\item Asociativnost: Za vsake $f : A \to B, g : B \to C, h : C \to D$ velja
$$h \circ (g \circ f) = (h \circ g) \circ f$$
\item Enota: Za vsak $f : A \to B$ velja
$$f \circ 1_A = f = 1_B \circ f$$
\end{itemize}
\end{definicija}
%
Kategorija je karkoli, kar zadošča tem pogojem.
Objekte kategorije všasih označujemo z $Obj(\cat{C})$ in morfizme z $Arr(\cat{C})$.

\section{Primeri kategorij}

\begin{primer}
Bazični primer kategorije in tak h katerem se lahko vedno sklicujemo je kategorija množic in funkcij med njimi. Označimo ga z \cat{Sets}. Za kategorijo se vedno prvo vprašamo: kaj so objekti in kaj so morfizmi? Pri \textbf{Sets} so objekti množice in morfizmi funkcije.
Izpolnjena morata biti pogoja asociativnosti in enote.
Kompozitum morfizmov je kompozitum funkcij, ki je asociativen, kar vemo iz teorije množic.
Vlogo identitete igra identitetna funkcija, ki jo lahko vedno definiramo in zanjo velja $f \circ id_A = f = id_B \circ f$ za vsako funkcijo $f : A \to B$, kjer je $id_A : A \to A$ def. kot $id_A(x) = x$ za vsak element $x \in A$.
\end{primer}

\begin{primer}
Še en primer, ki ga v bistvu že poznamo je podkategorija kategorije \cat{Sets}, in sicer $\cat{Sets}_{fin}$, kategorija končnih množic in funkcij med njimi. Zakaj je to res kategorija? Objekti so očitno končne množice, kaj so pa morfizmi? 
To bi morale biti funkcije med končnimi množicami in kompozitum takih funkcij je seveda tudi funkcija takega tipa, torej iz končne množice v končno množico. Razmisliti moramo še ali imamo identiteto. To seveda imamo, saj bo to podedovana identitetna funkcija iz \cat{Sets}, ki bo v tem primeru funkcija iz končne množice v končno, torej res morfizem v tej kategoriji. Tu imamo tudi primer kategorije, katere objekti so množice z dodatno strukturo ter so morfizmi objektov funkcije, ki ohranjajo strukturo teh množic.
\end{primer}

\begin{primer}
Kaj bi bil primer ''majhne'' kategorije? Kategorije z majhnim številom objektov ali morfizmov. Ker mora za vsak objekt obstajati identiteta mora vsaka kategorija imeti najmanj toliko morfizmov kolikor je objektov. Najmanjše število objektov, ki jih lahko imamo je 0. Ali je kategorija z 0 objekti in 0 morfizmi res kategorija? Za vsak objekt (ki jih ni) obstaja identiteta in za vsaka dva kompatibilna morfizma (ki ju ni) obstaja njun kompozitum. To torej je kategorija. Kaj pa kategorija z enim objektom. Imeti mora torej najmanj en objekt in eno identitete. Tej kateogriji pravimo tudi kategorija $\mathbf{1}$. Kategoriji z dvema objektom in enim neidentitetnim morfizmom med objektoma pravimo $\mathbf{2}$. Te dve kategoriji izgledata takole.

\begin{equation}
\begin{tikzcd}
\bullet \arrow[loop right] &&&  \arrow[loop left] \bullet \arrow[r] & \bullet \arrow[loop right]
\end{tikzcd}
\end{equation}
%
Identitetnih morfizmov se ponavadi ne riše. Kategorija $\cat{3}$ bi izgledala takole.
%
\begin{equation}
\begin{tikzcd}
\bullet \arrow[r] \arrow[rd] & \bullet \arrow[d] \\
& \bullet
\end{tikzcd}
\end{equation}
\end{primer}

\begin{primer}
Delno urejena množica ali poset je množica opremljena z relacijo, ki se jo ponavadi označuje z $\leq$ in je:
\begin{itemize}
\item Refleksivna
\item Antisimetrična
\item Tranzitivna
\end{itemize}
Morfizem delno urejenih množic $P$ in $Q$ je \emph{monotona} funkcija
$$m : P \to Q$$
kar pomeni, da za vsaka $x,y \in P$ za katera je $x \leq y$, potem velja $m(x) \leq m(y)$. Ali je to kategorija? Izpolnjevati mora aksiome za kategorij, torej ali imamo identiteto za vsako delno urejeno množico $P$? Naravni kandidat je identitetna funkcija $1_P : P \to P$, ki je monotona, say iz $x \leq y$ sledi $x \leq y$.
Kompozitum dveh monotonih funkcij $m : P \to Q$ in $n : P \to Q$ je tudi monotona funkcija, saj za $x \leq y$ zaradi monotonosti $m$ velja $m(x) \leq m(y)$ in zaradi monotonosti $n$ velja $n(m(x)) \leq n(m(y))$. Imamo torej kategorijo, ki jo označujemo s $\cat{Pos}$, delno urejenih množic in monotonih funkcij.
\end{primer}

\begin{primer}
Monoid $(M, \bullet)$ je množica opremljena z binarno operacijo množenja, za katero drži
\begin{itemize}
\item Zaprtost: $\forall x,y \in M : x \bullet y \in M$
\item Asociativnost: $\forall x,y,z \in M : x \bullet ( y \bullet z ) = ( x \bullet y ) \bullet z$
\item Obstoj enote: obstaja tak $e \in M$ tako da $\forall x \in M : e \bullet x = x \bullet e = x$
\end{itemize}
Homomorfizmi monoidov so funkcije $f : M \to N$ za katere velja
\begin{enumerate}
\item $f(e_M) = e_N$
\item $f(x \bullet y) = f(x) \bullet f(y)$
\end{enumerate}
Identitetni homorfizem $1_M : M \to M$ bo predstavljal identiteto v tej kategoriji. Kompozitum dveh homorfizmov je spet homomorfizem, torej imamo novo kategorijo monoidov in homorfizmov med njimi, ki jo označujemo z $\cat{Mon}$.
\end{primer}

\begin{primer}
Naj bo $(P, \leq)$ delno urejena množica. Ali je to tudi kategorija? Najprej se moramo vprašati, kaj so objekti v tej kategoriji in kaj so morfizmi.
Imamo množio elementov $p,q \in P$ med katerimi lahko imamo relacijo $p \leq q$, ki je refleksivna, antisimetrična in tranzitivna. Dobimo idejo, da za objekte vzamemo elemente $P$ in podamo morfizem med $p$ in $q$ natanko takrat ko v $P$ velja $p \leq q$.
Torej: 
\begin{itemize}
\item \textbf{Objekti:} Elementi množice $P$
\item \textbf{Morfizmi:} Morfizem $p \rightarrow q \Leftrightarrow p \leq q$
\end{itemize}
Potrebno je preveriti, če so izpolnjeni aksiomi za kategorijo.

\begin{enumerate}
\item Za vsak objekt $p \in P$ potrebujemo morfizem $1_p : p \to p$. Ali obstaja tak morfizem? Seveda, saj za vsak $p$ velja $p \leq p$, kar nam da želeno identiteto.
\item Za vsaka dva morfizma $p \to q$ in $q \to r$ mora obstajati kompozitum $p \to r$. Ali res obstaja? Seveda, saj je relacija $\leq$ tranzitivna in iz $p \leq q$ in $q \leq r$ sledi $p \leq r$, kar nam da želeni kompozitum.
\end{enumerate}
Vsaka delno urejena množica je torej svoja kategorija in v bistvu so kategorije v nekem smislu posplošene delno urejene množice.
\end{primer}

\begin{primer}
Naj bo $A$ poljubna množica. $A$ lahko obravnavamo kot svojo kategorijo $\cat{Dis}(X)$ kjer za objekte vzamemo elemente $X$, kjer so edini morfizmi identitete na vsakem objektu. Taki kategoriji, kjer so edini morfizmi identitete pravimo \emph{diskretna} kategorija.
\end{primer}

\begin{primer}
Še en primer, ki ga bralec najverjetneje že pričakuje. Objekti naj bodo topološki prostori in morfizmi naj bodo zvezne funkcije med njimi. Zveznim funkcijam, kot tudi učasih drugim funkcijam, ki ohranjajo struktuo, bomo pravili preslikave. Identiteta za nek topološki prostor $(X, \mathcal{T})$ je identietna preslikava $1_X : (X, \mathcal{T}) \to (X, \mathcal{T})$, ki je seveda zvezna. Kompozitum dveh preslikav je spet preslikava. Torej topološki prostori res tvorijo kategorijo. Označujemo jo s $\cat{Top}$.
\end{primer}

\section{Različni tipi morfizmov}
Uvedemo prvo abstraktno definicijo v jeziku teorije kategorij, nečesa kar je že poznano iz drugih področij matematike.

\begin{definicija} Naj bo \cat{C} poljubna kategorija. Morfizmu $f : A \to B$ pravimo \emph{izomorfizem}, če obstaja tak morfizem $g : B \to A$, da velja
$$g \circ f = 1_A \ in \ f \circ g = 1_B$$
Morfizmu $g$ pravimo \emph{inverz} morfizma f
\end{definicija}

\begin{trditev} Inverzi, ko obstajajo, so enolični.
\end{trditev}
\begin{dokaz}
Naj bo $f : A \to B$ izomorfizem in naj bosta $g,h: B \to A$ njegova inveza. Potem velja $g = 1_A \circ g = h \circ f \circ g = h \circ 1_B = h$
\end{dokaz}

Ker so inverzi enolični, lahko inverz morfizma $f$ upravičeno označujemo z $f^{-1}$.

\begin{primer*}
Izomorfizmi v kategoriji $\cat{Sets}$ ustrezajo ravno bijektivnim preslikavam, saj kot vemo iz teorije množic, ima funkcija inverz, ravno kadar ostaja enoličen inverz te funkcije, ki se komponira v identitetno funkcijo. 
\end{primer*}

\begin{primer*}
Vsak identitetni morfizem je izomorfizem, nima pa nujno kategorija drugih morfizmov kot identitetnega. Na primer kategorija $\cat{2}$ ima samo en neidentitetni morfizem, ki pa nima inverza torej ni izomorfizem.
\end{primer*}

Primer z funkcijami nam pa naravno porodi novo vprašanje, saj kot vemo, je funkcija bijektivna ravno takrat, ko je surjektivna ter injektivna. Vprašamo se, kaj bi pa bili karakterizaciji teh dveh lastnosti v jeziku teorije kategorij. Izkaže se, da pridemo do malenkost bolj splošnih pojmov, ki jih predstavimo v naslednjih dveh definicijah.

\begin{definicija}
\emph{Epimorfizem} je tak morfizem $e : E \to A$, da za vsaka morfizma $f,g : A \to B$ iz $f \circ e = g \circ e$ sledi $f = g$.
\end{definicija}

\begin{definicija}
\emph{Monomorfizem} je tak morfizem $m : B \to M$, da za vsaka morfizma $f,g : A \to B$ iz $m \circ f = m \circ g$ sledi $f = g$.
\end{definicija}

\begin{primer}
Preverimo, da mono- in epi-morfizmi v $\cat{Sets}$ ustrezajo ravno injektivnim in surjektivnim funkcijam. Naj bo torej najprej $f : A \to B$ injektivna funkcija. Potem za vsaka $x,y \in A$ velja, da it $f(x) = f(y)$ sledi $x = y$. Naj bosta sedaj $g,h : C \to A$ taki funkciji, da velja $f \circ g = f \circ h$. Torej za vsak $x \in C$ velja $f(g(x)) = f(h(x))$ iz čeasr iz injektivnosti $f$ sledi $g(x) = h(x)$ za vsak $x$, torej $g = h$. Privzemimo sedaj, da je $f$ monomorfizem. Velja torej $f \circ g = f \circ h \implies g = h$. Naj bo $1 = \{\star\}$ in naj bosta $x,y : 1 \to A$. Funkcije iz množice $1$ v $A$ predstavljajo ravno elemente množice $A$. Ker pa velja $f \circ x = f \circ y \implies x = y$ velja tudi, da za vsaka $x,y \in A$ velja $f(x) = f(y) \implies x = y$ in je $f$ res injektivna. Naj bo sedaj $f : A -> B$ surjektivna funkcija. Velja torej, da $\forall y \in B \ \exists x \in A : f(x) = y$. Naj bosta sedaj $g,h : B \to C$ taki funkciji, da velja $g \circ f = h \circ f$. Torej za vsak $y \in B$ velja $g(y) = h(y)$ saj vsak tak y lahko zapišemo kot $f(x)$ za nek $x \in A$. Torej je $f$ res epi. Naj bo sedaj $f$ epimorfizem in naj bosta $g,h : B \to 2$ definirani z naslednjima predpisoma
\[
g(x)=
\begin{cases}
1 \quad\text{;}\quad x \in \mathrm{Im}f \\
0 \quad\text{;}\quad x \notin \mathrm{Im}f \\
\end{cases}
\]
$$ h(x) = 1 \quad \forall x \in B $$
Poglejmo sedaj kompozituma $g \circ f$ in $h \circ f$. Velja $g \circ f(x) = g(f(x)) = 1$ za vsak $x \in A$, saj je $f(x) \in \mathrm{Im}f$. Po drugi strani pa je tudi $h \circ f(x) = h(f(x)) = 1$. Torej je za vsak $x \in A$, $g \circ f(x) = h \circ f(x)$, oziroma $g\circ f = h\circ f$ in ker je $f$ epimorfizem sledi $g = h$, kar pa pomeni, da je za vsak $y \in B$ nek tak $x \in A$, da z $f$ lahko pridemo do njega, kar pa pomeni ravno, da je $f$ surjektivna.
\end{primer}

Ta primer bi nam dal misliti, da so epi- in mono-morfizmi vedno, kadar imamo opravka z objekti, ki predstavljajo množice, ravno surjektivne ter injektivne funkcije. Naslednji primer pokaže, da temu ni vedno tako.

\begin{primer}
Naj bo $f : (\mathbb{N},+) \to (\mathbb{Z},+)$ homomorfizem monoidov, definiran s predpisom $f(n) = n$ za vsak $n$ iz $\mathbb{N}$. Naj bosta sedaj $g,h: \mathbb{Z} \to M$ taka homomorfizma monoidov, da velja $g \circ f = h \circ f$. 
Velja torej $$g(n) = gf(n) = hf(n) = h(n)$$
Ker sta $g,h$ homomorfizma monoidov velja
$$g(0) = h(0) = 0$$
Zanima nas še vrednosti $g(-n)$ za $n \in \mathbb{N}$. 
Računamo 
\begin{align*}
g(0) = g(n - n) &= g(n) + g(-n) \\
\implies g(-n) &= -g(n)
\end{align*}
Če vse to pogledamo skupaj, vidimo da velja
$$g(k) = h(k) \quad \forall k \in \mathbb{Z}$$
kar pa pomeni $g = h$. Torej je $f$ epimorfizem. Način kako smo prišli do tega primera nam da misliti, da mogoče kar je potrebno, za to da je homorfizem monoidov epi, da je surjektiven na generatorje kodomene.
Algebraično gledano, to da je nek morfizem $e$ epi, pomeni natanko to, da ga lahko pri kompoziciji krajšamo z desne: $fe = ge \implies f=g$. Obratno, če je morfizem $m$ mono, pomeni, da ga lahko krajšamo z leve: $mf = mg \implies f = g$.

\end{primer}


\section{Konstrukcije novih kategorij}

\subsection{Funktorji}

V teoriji kategorij spoznamo abstraktne karakterizacije in konstrukcije, ki delujejo v neki kategoriji. Radi bi seveda konstrukcijo, ki smo jo spoznali v eni kategoriji prenesli na druge kategorije, mogoče celo v upanju, da je neke probleme lažje rešiti v drugi kategoriji in da bomo znali rešitev prenesti nazaj v originalno kategorijio kjer nas zanima rešitev problema. V ta namen uvedemo definicijo, ki je na nek način ključna za uporabo teorije kategorij.

\begin{definicija}
Naj bosta $\cat{C}$ in $\cat{D}$ kategoriji. \emph{Funktor} $F : \cat{C} \to \cat{D}$ med kategorijama $\cat{C}$ in $\cat{D}$ je par morfizmov
$$F_0 : \cat{C}_0 \to \cat{D}_0$$
med objekti in
$$F_1 : \cat{C}_1 \to \cat{D}_1$$
med morfizmi, tako da veljajo naslednje lastnosti.
\begin{enumerate}
\item $F(f : A \to B) = F(f) : F(A) \to F(B)$
\item $F(1_A) = 1_{F(A)}$
\item Za puščici $f : A \to B, \ g : B \to C$ mora veljati:
$$F(g \circ f) = F(g) \circ F(f)$$
\end{enumerate}
\end{definicija}

Funktorji so torej posebni morfizmi med kategorijami.

\begin{primer}
Za vsako kategorijo $\cat{C}$ imamo na voljo identitetni funktor, ki deluje na pričakovan način. Kompozitum funktorjev je spet funktor, saj za funktorja $F : \cat{C} \to \cat{D}$ in $G : \cat{D} \to \cat{E}$ in morfizem $f : A \to B$ velja
$$G(F(f : A \to B)) = G(F(f) : F(A) \to F(B)) = G(F(f)) : G(F(A)) \to G(F(B))$$
ter
$$G(F(1_A)) = G(1_{F(A)}) = 1_{G(F(A))}$$
in še
$$G(F(g \circ f)) = G(F(g) \circ F(f)) = G(F(g)) \circ G(F(f))$$
za $g : B \to C$. Imamo torej kategorijo, kjer so objekti kategorije in morfizmi med njimi so funktorji. To kategorijo ponavadi označujemo z $\cat{Cat}$ 
\end{primer}

\begin{primer}
Za neko delno urejeno množico $P$ v kategoriji $\cat{Pos}$ lahko "`pozabimo"' strukturo urejenosti in vzamemo samo množico. Tej ideji pravimo \emph{pozabljivi funktor} $U : \cat{Pos} \to \cat{Sets}$. Ta ideja je tudi bolj splošna, saj lahko za vsako kategorijo, kjer so objektni množice definiramo pozabljivi funktor, tako da vzamemo za vsak objekt samo množico, ki jo predstavlja.
\end{primer}

\begin{primer}
V rezinah $\cat{C}/C$ nad objektom $C$ obstaja funktor $U : \cat{C}/C \to C$, ki tudi pozabi na gledani objekt $C$, torej objekte slika v objekte in morfizme v morfizme v $\cat{C}$. Za vsak morfizem $g : C \to D$ lahko definiramo funktor $g_* : \cat{C}/C \to \cat{C}/D$, s predpisom $g_*(f) = g \circ f$,

$$\begin{tikzcd}
A \ar[d, "f"'] \ar[dr, "g \circ f"] & \\
C \ar[r, "g"'] & D \\
\end{tikzcd}$$

\end{primer}

\begin{primer}
Naj bo $(M,\cdot)$ monoid. Na monoid lahko gledamo kot na kategorijo z enim samim objektom. Morfizmi v tej kategoriji so elementi monoida, ki imajo vsi za domeno ter kodomeno edini objekt iz te kategorije. Identiteta na tem objektu je enota monoida in kompozitum dveh morfizmov je produkt elementov, ki ju predstavljata. Torej, če sta $m,n \in M$ je njun kompozitum enak $m \cdot n$. Zaradi zaprtosti operacije množenja obstaja kompozitum vsakih dveh elementov in asociativnost kompozituma sledi iz asociativnosti množenja.

Lahko se vprašamo, ali imamo v tej kategoriji kake izomorfizme. Kaj bi to pomenilo? Radi bi dva morfizma $m,n$, tako da je njun kompozitum enak identiteti, ali povedano drugače radi bi dva elementa monoida, katerih produkt je enota. To je pa ravno definicija inverza. Torej, v monoidu (gledano kot kategorija) je morfizem izomorfizem natanko takrat, ko ima ta element monoida multiplikativni inverz. Ta razmislek nam pove tudi, da je grupa ravno kategorija z enim objektom, kjer je vsak morfizem izomorfizem.

Naj bosta sedaj $M$ in $N$ monoida in $f : M \to N$ homomorfizem monoidov. Vemo že, da je $f$ morfizem v kategoriji monoidov $\cat{Mon}$, a velja tudi, da je $f$ funktor med $M$ in $N$ če ju gledamo kot kategoriji. Ta funktor slika edini objekt v edini objekt (boljši način za to povedat?) in morfizme usklajeno s tem kam slika elemente monoida. Za $f$ velja še, da slika enoto v enoto ter produkt v produkt, kar so ravno pogoji da je to funktor. Funktorji so v tem smislu kot neki posplošeni homomorfizmi.
\end{primer}


\begin{primer}
\emph{Obratna} ali \emph{dualna} kategorija $\cat{C}^{op}$ kategorije $\cat{C}$ je kategorija z istimi objekti kot $\cat{C}$ kjer vsem morfizmom zamenjamo domeno in kodomeno. To pomeni, da za morfizem $f : A \to B$ v $\cat{C}$ imamo morfizem $f : B \to A$ v $\cat{C}^{op}$. Konceptualno je to kategorija, kjer so vse puščice obrnjene. Poglejmo si, da je to res tudi kategorija. Identitete ostanejo iste, kaj se pa zgodi z kompozitumi. Objekte in morfizme v obratni kategoriji se ponavadi označuje kar z enakimi oznakami, a da bodo stvari bolj jasne uvedimo za trenutek naslednje oznake: Za morfizem $f : A \to B$ v $\cat{C}$ pišimo $f^* : B^* \to A^*$ v $\cat{C}^{op}$. Tako dobimo zvezo med operacijami v $\cat{C}$ in $\cat{C}^{op}$.
\begin{align*}
(1_C)^* &= 1_{C^*} \\
(g \circ f)* &= f^* \circ g^*
\end{align*}
Torej diagram v $\cat{C}$
\[ \begin{tikzcd}
A \arrow[r, "f"] \arrow[rd, "g \circ f"'] & B \arrow[d, "g"] \\
&	C \\
\end{tikzcd} \]
%
v $\cat{C}^{op}$ zgleda kot
%
\[ \begin{tikzcd}
A^* & \arrow[l, "f^*"'] B^* \\
& \arrow[lu, "f^* \circ g^*"] C^* \arrow[u, "g^*"']
\end{tikzcd} \]
%
Dualna kategorija nam predstavi pojem dualnosti, ki se izkaže za zelo pomembnega v študiju teorije kategorij, saj nam omogoča, da razne konstrukcije prenesemo v njihovo dualno obliko in tako iz eno konstrukcije dobimo dve. 

\begin{primer*}
Tako dualnost smo že srečali, ko smo upeljali pojma epimorfizma ter monomorfizma. Naj bosta $e : E \to A$ epimorfizem in $m : D \to M$ monomorfizem v kategoriji $\cat{C}$. Če postavimo njuna diagrama enega ob drugega

\[ \begin{tikzcd}
E \ar[r, "e"] & A \ar[r, shift left, "f"] \ar[r, shift right, "f'"'] & B & C \ar[r, shift left, "g"] \ar[r, shift right, "g'"'] & D \ar[r, "m"] & M
\end{tikzcd} \]
postane jasno, da je en samo dualna verzija drugega, ali z drugimi besedami, epimorfizem je monomorfizem v dualni kategoriji.
\end{primer*}

\end{primer}

\begin{primer}
\textit{Kategorija morfizmov} $\cat{C}^{\rightarrow}$ kategorije $\cat{C}$ je kategorija dobljena iz kategorije $\cat{C}$ tako, da za objekte vzamemo morfizme iz kategorije $\cat{C}$, na primer $f : A \to B$ in $g : C \to D$ kar bi lahko izgledalo nekako takole
\[ \begin{tikzcd}
A \arrow[d, "f"'] & A' \arrow[d, "f'"] \\
B & B'
\end{tikzcd} \]
Kako bi sedaj prešli iz $f$ v $g$? Naravna ideja, ki se nam porodi, je da povežemo obe stranici navideznega kvadrata z morfizmi v $\cat{C}$.
\[ \begin{tikzcd}
A \arrow[d, "f"'] \arrow[r, "g_1"] & A' \arrow[d, "f'"] \\
B \arrow[r, "g_2"'] & B'
\end{tikzcd} \]
Morfizem $f \to g$ je torej par morfizmov $(h_1, h_2)$ iz $\cat{C}$.
Identiteta je par $(1_A, 1_B)$.
Kar mora še veljati, da bi to bila kategorija, je da lahko take morfizme komponiramo med seboj. Kar mora še veljati je, da sta obe poti po kvadratu enaki, torej $g \circ h_1 = h_2 \circ f$, čemur rečemo, da \textit{kvadrat komutira} (zakaj je to pomembno brez motivacije s strani naravnih transformacij?). Preveriti moramo, da ta pogoj ohranja komponiranje, ali z drugimi besedami, če komponiramo da komutirajoča kvadrata, ali dobimo nov komutirajoč kvadrat.
Recimo, da imamo naslednjo situacijo
%
$$\begin{tikzcd}
A \arrow[d, "f"'] \arrow[r, "g_1"] & A' \arrow[d, "f'"] \arrow[r, "h_1"] & A'' \arrow[d, "f''"] \\
B \arrow[r, "g_2"'] & B' \arrow[r, "h_2"'] & B'' \\
\end{tikzcd}$$
%
kjer so $f, f', f''$ objekti v $\cat{C}^{\rightarrow}$, $(g_1, g_2), (h_1,h_2)$ pa morfizmi v $\cat{C}^{\rightarrow}$. Kaj bi bil kompozitum morfizmov $(h_1,h_2) \circ (g_1,g_2)$. Očitna izbira, ki se tudi izkaže za pravilno, je komponiranje po komponentah, oziroma $(h_1,h_2) \circ (g_1,g_2) = (h_1 \circ g_1, h_2 \circ g_2)$. Preveritmi moramo komutativnostni pogoj. 
\begin{align*}
f'' \circ (h_1 \circ g_1) &= (f'' \circ h_1) \circ g_1 = \\
(h_2 \circ f') \circ g_1 &= h_2 \circ (f' \circ g1) = \\
h_2 \circ (g_2 \circ f) &= (h_2 \circ g_2) \circ f
\end{align*}

\end{primer}

\begin{primer}
\emph{Rezine} $\cat{C}/C$ kategorije $\cat{C}$ nad objektom $C \in \cat{C}$. Ideja te kategorije je podobna kategoriji puščic, a da v tem primeru gledamo morfizme v $\cat{C}$, ki imajo kodomeno, torej kažejo v, objekt $C$. Na primer
%
\[ \begin{tikzcd}
A \arrow[rd, "f"'] & & \arrow[ld, "f'"] A' \\
& C &
\end{tikzcd} \]
%
Ostale stvari delujejo podobno kot v kategoriji puščic. Morfizmi so ravno tako morfizmi v $\cat{C}$ a z eno zahtevo manj, saj sedaj ne bo potrebno poslati kodomene prvega morfizma v kodomeno drugega. Tako, bi bil v našem primeru morfizem $f \to f'$ morfizem $g : A \to A'$ v $\cat{C}$, tako da sledeči trikotnik komutira.
%
\[ \begin{tikzcd}
A \arrow[rd, "f"'] \ar[rr, "g"] & & \arrow[ld, "f'"] A' \\
& C &
\end{tikzcd} \]
oziroma z enačbo
$$f' \circ g = f.$$
Identiteta se podeduje iz $\cat{C}$, kompozitum pa deluje ravno tako kot v kategoriji puščic. Če pogledamo malo bolj natančno, lahko vidimo, da ta konstrukcija izgleda kot neka ''podkonstrukcija'' kategorije puščic, če iz vseh objektov kategorije $\cat{C}^{\rightarrow}$ vzamemo le tiste s kodomeno $C$. Potem so morfizmi oblike $(g, 1_C)$ in vidimo, da komutativnostni kvadrati ustrezajo ravno komutativnostnim trikotnikom v $\cat{C}/C$.
%
\[ \begin{tikzcd}
A \ar[d, "f"'] \ar[r, "g"] & A' \ar[d, "f'"] \\
C \ar[r, "1_C"'] & C \\
\end{tikzcd} \]
%
Imamo tudi \emph{korezine} $C/\cat{C}$, kjer za objekte vzamemo morfizme v $\cat{C}$, ki kažejo iz $C$, oziroma tiste z domeno $C$. Ostale stvari potekajo podobno kot pri rezinah.
Poglejmo kako bi iz rezin dobili rezine, kajti ideji sta povezani z dualnostjo.
Diagrama za $\cat{C}/C$ ter $C/\cat{C}$ izgledata kot
$$\begin{tikzcd}[column sep=small]
A \ar[dr, "f"'] \ar[rr, "\alpha"] & &  B \ar[dl, "g"] & & A \ar[rr, "\alpha"] && B \\
& C &  & & & C \ar[ul, "f"] \ar[ur, "g"'] & \\
\end{tikzcd}$$
Če naredimo rezine po dualni kategorij $\cat{C}^{op}$ nad objektom $C$ dobimo diagram
$$\begin{tikzcd}[column sep=small]
A && B \ar[ll, "\alpha"'] \\
& C \ar[ul, "f"] \ar[ur, "g"'] &
\end{tikzcd}$$

\end{primer}

\section{Začetni in končni objekti}
V kategoriji $\cat{Set}$ množic in funkcij med njimi poznamo posebne tipe množic, kot na primer prazna množic in eno-elementa množica. Poglejmo si abstraktizacijo teh dveh posebnih primerov v jezik teorije kategorij. Definicijo podamo s tako imenovano \textit{univerzalno lastnostjo}, ki nam pove kako so med seboj povezani morfizmi, ki so relevantni v tej konstrukciji (boljši način za to povedat).

\begin{definicija}
V poljubni kategoriji $\cat{C}$ je objekt
\begin{itemize}
\item 0 \emph{začetni}, če za vsak objekt $C \in \cat{C}$ obstaja enoličen morfizem $$0 \to C$$
\item 1 \emph{končni}, če za vsak objekt $C \in \cat{C}$ obstaja enoličen morfizem $$C \to 1$$
\end{itemize}
\end{definicija}
Končni objekt je ravno začetni objekt v dualni kategoriji $\cat{C}^{op}$. Ker sta definiciji začetnega in končnega objekta podani z univerzalno lastnostjo lahko pričakujemo, da bodo objekti podani do izomorfizma natančno. To pove naslednja trditev.

\begin{trditev}
Začetni in končni objekti so enolično določeni, do izomorfizma natančno
\end{trditev}
\begin{dokaz}
Naj bosta $0$ in $\hat{0}$ začetna objekta v kategoriji $\cat{C}$. Potem obstajata enolična $g : 0 \to \hat{0}$ ter $\hat{g} : \hat{0} \to 0$. Torej je $\hat{g} \circ g$ enoličen morfizem od 0 do 0. To pa pomeni, da mora biti identitetni morfizem (saj ta vedno obstaja in je enoličen), kar pa pomeni, da je $g$ izomorfizem.

Naj bosta sedaj $1$ in $\hat{1}$ končna objekta in naj bo $A \in \cat{C}$ poljuben. Potem obstajata enolična $g : 1 \to \hat{1}$ in $\hat{g} : \hat{1} \to 1$, in je kompozitum $\hat{g} \circ g$ enoličen morfizem $1 \to \hat{1}$, torej identiteta. Torej je $g$ izomorfizem.
\end{dokaz}
Vidimo lahko, da sta dokaza za začetni in končni objekt potekala praktično enako. Gre seveda za delo dualnosti, ki jo bomo tudi formalno predstavili.

\begin{primer}
V kategoriji $\cat{Set}$ je začetni objekt prazna množica, saj za vsako množico $A$ obstaja natanko ena funkcija $! : \emptyset \to A$, ki nobenega elementa ne slika nikamor. 

Končni objekt v $\cat{Set}$ je enojec $1 = \set{*}$. Za vsako množico $A$ obstaja natanko ena funkcija $f : A \to 1$, ki slika vse elemente iz $A$ v $*$. Tukaj lahko vidimo, da je končni objekt določen "le" do izomorfizma natančno, saj je množica $\set{*}$ izomorfna vsakemu drugemu enojcu s funkcijo $f : \set{*} \to \set{a}$, $f(*) = a$. Ta funkcija je očitno bijekcija, torej izomorfizem v kategoriji $\cat{Set}$.
\end{primer}

% Dodaj primere: Pos, Mon, Top.

\begin{primer}
Kaj bi bil končni objekt v kategoriji $\cat{Pos}$ delno urejenih množic in monotonih funkcij. 
\end{primer}

\section{Posplošeni elementi}
Za razumevanje tega, kaj je neka množica potrebujemo natanko poznavanje vseh njenih elementov. To nam pove vse, kar lahko vemo o tej množici. Elemente neke množice A pa lahko identificiramo s funkcijami $1 \to A$, saj vsako funkcijo $f : 1 \to A$ identificiramo s tem kam pošlje edini element, z drugimi besedami, množica A je izomorfna množici vseh funkcij iz 1 v A. To množico označujemo z $\Hom_{\cat{Sets}} (1,A)$ in ji pravimo hom-set (boljši izraz ?). Takšne množice bodo ključnega pomena pri Yonedovi lemi.
Za kako drugo matematično strukturo to lahko ni dovolj. Na primer za poznavanje topološkega prostora moramo poznati še okolice točk tega prostora in nam poznavanje samo točk prostora ne pove ničesar o lastnostih tega prostora. Kateri morfizmi pa so potrebni za poznavanje nekega objekta. To vprašanje nas privede do naslednje definicije

\begin{definicija}
 \textit{Posplošeni element} objekta $A \in \cat{C}$ je poljuben morfizem 
$$t : T \to A$$
iz nekega testnega objekta $T$ v A.
\end{definicija}
Kot je bilo že omenjeno, nam opsplošeni elementi razkrijejo dodatno strukturo, kot ponazori naslednji primer

\begin{primer}
Recimo, da imamo dve delno urejeni množici X in A z naslednjo ureditvijo:
\begin{align*}
X = \set{x \leq y, x \leq z} \\
A = \set{a \leq b \leq c} \\
\end{align*}
Obe množici imata po 3 elemente, a vidimo, da nimata identične strukture. Torej med njima imamo monotono bijektivno funkcijo $f : X \to A$ definirano kot
$$f(x) = a, \quad f(y) = b, \quad f(z) = c$$
a ta funkcija \textbf{ni} izomorfizem v $\cat{Pos}$. Ti dve strukturi v resnici nista izomorfni, a kako to pokazati. En način je z tako imenovanimi \textit{invariantami}, to so lastnosti neke strukture, ki se ohranjajo z izomorfizmi, oz. jih imajo enake vse izomorfne strukture. Invariante se da definirati na lep način z posplošenimi elementi. V našem primeru vidimo, da je invarianta število elementov enaka za obe množici, kar ustreza temu, da morfizmi iz enoelementne delno urejene množice \textbf{1} ne ločujejo med njima. Poglejmo si namesto tega "\textbf{2}-elemente" teh množic. To so morfizmi iz množice $\textbf{2} = \set{0 \leq 1}$ v naši množici. Takih morfizmov v množico X je 5, in sicer trije morfizmi, ki slikajo oba elementa v isti element, na primer oba v x ter še dva dodatna morfizma
$$0 \mapsto x, 1 \mapsto y \qquad 0 \mapsto x, 1 \mapsto z$$
medtem, ko imamo za morfizme $\textbf{2} \to A$, tri dodatne morfizme poleg "točkovnih" (takih, ki slikaj vse elemente v eno točko.
$$0 \mapsto a, 1 \mapsto b \qquad 0 \mapsto b, 1 \mapsto c \qquad 0 \mapsto a, 1 \mapsto c$$
kjer zadnji morfizem dobimo zaradi tranzitivnosti.
Tako je invarianta, ki jo lahko poimenujemo kar "število morfizmov iz \textbf{2}" za množico X enaka 5, za množico A pa 6, torej lahko sklepamo, da množici nista izomorfni v $\cat{Pos}$.
\end{primer}

Posplošeni elementi so uporabni tudi za "testiranje" določenih lastnosti. Poglejmo si na primer diagrame naslednje oblike

$$\begin{tikzcd}[column sep=large]
X \ar[r, shift left, "x"] \ar[r, shift right, "x'"'] & A \ar[r, "f"] & B \\
\end{tikzcd}$$
Tukaj je morfizem f mono, natanko takrat, ko za vsaka morfizma $x, x'$ iz $fx = fx'$ sledi $x = x'$, ali z drugimi besedami, f je "injektiven na posplošenih elementih" če želimo. \\
Podobno, da lahko za diagram oblike 

$$\begin{tikzcd}[column sep=large, row sep=large]
A \ar[d, "g"'] \ar[r, "f"] & B \ar[d, "\alpha"] \\
D \ar[r, "\beta"'] & D
\end{tikzcd}$$
povemo, da komutira, mora le veljati, da je 
$$\alpha f x = \beta g x$$
za vsak posplošen element $x : X \to A$, kajti potem velja tudi za posplošen element $1_A : A \to A$. Posplošeni elementi so posebej koristni za testiranje takih in podobnih kategoričnih lastnosti.

\section{Produkti}
Kot smo to že storili, poskusimo znano konstrukcijo iz teorije množic posplošiti na poljubno kategorijo. V $\cat{Set}$ poznamo za množici $A$ in $B$ njun kartezični produkt $A \times B$, ki je definiran kot množica vseh parov 
$$A \times B := \set{(a,b) \mid a \in A, b \in B}$$
Imamo tudi dve koordinatni projekciji $\pi_A : A\times B \to A$ in $\pi_B : A \times B \to B$ definirani kot $\pi_A(a,b) = a$ in $\pi_B(a,b) = b$. Za vsak element $x \in A \times B$ velja $x = (\pi_A(x), \pi_B(x))$. Ker vemo, da lahko elemente množice $A \times B$ predstavimo kot morfizme $1 \to A \times B$ nam to da diagram naslednje oblike

$$ \begin{tikzcd}[row sep=huge, column sep=large]
&  1 \ar[dl, "a"'] \ar[d, dashed, "\text{(a,b)}", font=\large] \ar[dr, "b"] & \\
A & \ar[l, "\pi_A"] A \times B \ar[r, "\pi_B"'] & B \\
\end{tikzcd} $$

Če 1 zamenjamo z posplošenim elementom, dobimo naslednjo definicijo

\begin{definicija}
Produkt objektov $A,B \in \cat{C}$ je objekt P, skupaj z projekcijama
$$\begin{tikzcd}
A & P \ar[l, "p_A"'] \ar[r, "p_A"] & B
\end{tikzcd}$$
z naslednjo univerzalno lastnostjo. Za vsak objekt X iz $\cat{C}$ in morfizma $f : X \to A$, $g : X \to B$ obstaja natanko en morfizem $u : X \to P$, tako da naslednji diagram komutira

$$\begin{tikzcd}
& X \ar[ld, "f"'] \ar[d, dashed, "u"] \ar[rd, "g"] & \\
A & P \ar[l, "p_A"] \ar[r, "p_B"'] & B
\end{tikzcd}$$

ali z enačbami
$$f = p_A \circ u \quad g = p_B \circ u$$
Morfizmoma $p_A$ in $p_B$ pravimo (koordinatni) \textit{projekciji}. Enolični morfizem $u$ ponavadi označujemo z $\langle f,g \rangle$.
\end{definicija}

Če v kategoriji obstaja produkt za vsaka dva objekta pravimo, da ta kategorija \textit{ima binarne produkte}. \\
Kot vedno z univerzalnimi lastnostmi podanimi na tak način, bo veljala naslednja trditev

\begin{trditev}
Produkti so enolični do izomorfizma natančno
\end{trditev}
\begin{dokaz}
Naj bosta P in R oba produkt objektov A in B z produktnima projekcijama $p_A, p_B$ ter $r_A, r_B$ (respectively?). Ker je P produkt A in B obstaja enoličen morfizem $u : R \to P$, da velja $r_A = p_Au, r_B = p_Bu$. Obratno ker je R produkt A in B obstaja enoličen $v : P \to R$, da veljata zvezi $p_A = r_Au, p_B = r_Bu$. Stanje prikažemo v diagramu

$$\begin{tikzcd}
& R \ar[dd, dashed, bend right, "u"'] \ar[dl, "r_A"'] \ar[dr, "r_B"] & \\
A & & B \\
& P \ar[uu, dashed, bend right, "v"'] \ar[ul, "p_A"] \ar[ur, "p_B"'] & \\
\end{tikzcd}$$

Morfizem $u \circ v $ je torej enolični morfizem iz P v P. To pa pomeni, da mora biti identitetni morfizem. Enako velja za $v \circ u$, torej sta si inverza in sta P in R izomorfna.
\end{dokaz}

Zaradi tega lahko produkt A in B upravičeno označujemo z $A \times B$.

\begin{primer}
Preverimo, da naš motivacijski zgled z kartezičnim produktom množic res ustreza univerzalni lastnosti. Naj bosta $A \times B$ kartezični produkt množic $A$ in $B$ z koordinatnima projekcijama $\pi_A$ in $\pi_B$. Denimo, da obstaja množica $X$ s funkcijama $f : X \to A$, $g : X \to B$. Definirajmo funkcijo $\langle f,g \rangle : X \to A \times B$ kot $\langle f,g \rangle(x) = (f(x),g(x))$.
\end{primer}

Ravno tako kot produkt dveh objektov, lahko definiramo produkt treh ali večih objektov. Naj bo na primer $(C_i)_{i \in I}$ družina objektov indeksirana po neki indeksni množici $I$ (lahko neskončni). Produkt družine $(C_i)_{i \in I}$ je objekt
$$\prod_{i \in I}C_i$$
skupaj z družino morfizmov $(p_j : \prod_{i \in I}C_i \to C_j)_{j \in I}$, z univerzalno lastnostjo, da za vsak objekt $X$ z morfizmi $(x_i : X \to C_i)_{i \in I}$ obstaja natanko en morfizem $u : X \to \prod_{i \in I}C_i$, tako da velja $$x_j = p_j \circ u$$ za vsak $j \in I$, oziroma da diagram

$$\begin{tikzcd}
X \ar[d, dashed, "u"] \ar[dr, "x_j"] & \\
\prod_{i \in I}C_i \ar[r, "p_j"'] & C_j \\
\end{tikzcd}$$
komutira.

Če za vsaka dva objekta v kategoriji $\cat{C}$ obstaja njun produkt pravimo, da $\cat{C}$ \emph{ima dvojiške produkte}.

Definiramo lahko tudi eniški produkt. Eniški produkt objekta je objekt sam, brez dodatnih morfizmov. Ničelni produkt v kategoriji je končni objekt te kategorije, saj za vsak objekt obstaja natanko en morfizem v končni objekt, da nič dodatnega ne komutira. Če v kategoriji $\cat{C}$ obstaja produkt poljubne končne družine objektov pravimo, da $\cat{C}$ \emph{ima končne produkte}.

\begin{primer}
Naj bosta $\cat{C}$ in $\cat{D}$ kategoriji. \emph{Produkt} kategorij $\cat{C} \times \cat{D}$ je prav tako kategorija, z objekti oblike $(C,D)$, kjer sta $C \in \cat{C}$ in $D \in \cat{D}$ in morfizmi oblike $(f,g) : (C,D) \to (C',D')$, kjer je $f : C \to C'$ morfizem v $\cat{C}$ ter $g : D \to D'$ morfizem v $\cat{D}$. Identitete ter kompozitume definiramo po komponentah, torej
\begin{equation*}
1_{(C,D)} = (1_C,1_D)
\end{equation*}
\begin{equation*}
(f,g) \circ (f',g') = (f \circ f', g \circ g')
\end{equation*}
za $C \in \cat{C}$, $D \in \cat{D}$ ter $f,f'$ puščici v $\cat{C}$ in $g,g'$ puščici v $\cat{D}$.
Za produkt $\cat{C} \times \cat{D}$ imamo dva \textit{projekcijska funktorja} 
\[
\begin{tikzcd}
\cat{C} & \arrow[l, "\pi_{\cat{C}}"'] \cat{C} \times \cat{D} \arrow[r, "\pi_{\cat{D}}"] & \cat{D}
\end{tikzcd}
\]
definirana kot $\pi_{\cat{C}}(C,D) = C$ in $\pi_{\cat{D}}(C,D) = D$ ter na morfizmih $\pi_{\cat{C}}(f,g) = f$ in $\pi_{\cat{D}}(f,g) = g$.
\end{primer}

\section{Dualnost}
Povejmo (za trenutek še brez dokaza) dve trditvi, ki nam opišeta in utemeljia pojem dualnosti v kategoriji.

\begin{trditev} \textit{(Formalna dualnost)}. 
Za vsak stavek $\Sigma$ v jeziku teorije kategorij, če $\Sigma$ sledi iz aksiomov kategorij, potem sledi tudi njegov dualni stavek $\Sigma^*$.
\end{trditev}

\begin{trditev} \textit{(Konceptualna dualnost)}.
Za vsako trditev $\Sigma$ o kategorijah, če $\Sigma$ drži za vse kategorije, potem drži tudi dualna trditev $\Sigma^*$.
\end{trditev}

Kar lahko vzamemo iz teh dveh trditev je, da za vsako trditev, ki jo dokažemo za poljubno kategorijo, "zastonj" dobimo še njeno dualno trditev, brez dodatnega dela. Tako bi lahko na primer pri dokazu, da so začetni in končni objekti določeni do izomorfizma natančno uporabili dejstvo, da je končni objekt dualni pojem začetnega objekta in naredili dokaz le za enega izmed njiju.
Ta ideja nam pove, da smo z obravnavanjem neke konstrukcije v teoriji kategorij, na primer univerzalne lastnosti produkta, hkrati obravnavali tudi njen dual. V tem primeru dualni konstrukciji dodamo predpono "ko-". Tako pridemo do naslednje definicije

\subsection{Koprodukti}
\begin{definicija}
Naj bosta A in B objekta v kategorji $\cat{C}$. \textit{Koprodukt} A-ja in B-ja je objekt Q skupaj z dvema morfizmoma $q_A : A \to Q$, $q_B : B \to Q$. Z naslednjo univerzalno lastnostjo. Za vsak objekt X in morfizmoma $x_A : A \to X$, $x_B : B \to X$ obstaja enoličen morfizem $u : Q \to X$, za katerega naslednji diagram komutira

$$\begin{tikzcd}
& X & \\
A \ar[ur, "x_A"] \ar[r, "q_A"'] & Q \ar[u, dashed, pos=0.35, "v"']  & B \ar[l, "q_B"] \ar[ul, "x_B"'] \\
\end{tikzcd}$$
z enačbami
$$x_A = v q_A \quad x_B = v q_B$$
\end{definicija}
Kot za produkte velja naslednja trditev.
\begin{trditev}
Koprodukti so enolično določeni do izomorfizma natančno.
\end{trditev}
\begin{dokaz}
Uporabimo dejstvo, da to velja za produkte in da je koprodukt dual produkta.
\end{dokaz}

Koprodukt A in B zato označujemo z $A + B$.
\begin{primer}
Ali lahko najdemo koprodukte v kategoriji $\cat{Set}$? 
Veljati mora univerzalna lastnost koprodukta.
Poskusimo z množico $A+B := \set{(a,1) \mid a \in A} \cup \set{(b,2) \mid b \in B}$ in funkcijama $i_A : A \to A + B$, $i_A(a) = (a,1)$ in $i_B : B \to A+B$, $i_B(b) = (b,2)$. Tej množici pravimo tudi disjunktna unija A in B.
\end{primer}

\begin{primer}
Tako kot za produkte, lahko za poljubni kategorji $\cat{C}$, $\cat{D}$ definiramo njun koprodukt $\cat{C} + \cat{D}$, z inkluzijskima funktorjema $\iota_1 : \cat{C} \to \cat{C} + \cat{D}$, $\iota_2 : \cat{C} \to \cat{C} + \cat{D}$
\end{primer}

\section{Hom-sets}
Ustavimo se na kratko pri tej zelo pomembni temi, ki smo jo že srečali in bo postala ključnega pomena kasneje. Naj bo $\cat{C}$ taka kategorija, da je za vsaka dva objekta $A,B \in \cat{C}$ morfizmov med njima toliko, da jih lahko spravimo v množico. Kategoriji kjer velja ta pogoj pravimo \textit{lokalno majhna kategorija}. To množico označujemo kot
$$\Hom_{\cat{C}}(A,B) := \set{f \in Arr(\cat{C}) \mid dom(f) = A, cod(f) = B}$$


%TODO

\section{Zožki in kozožki}

\subsection{Zožki}
Ideja zožkov je sledeča, zamislimo si, da imamo dve funkciji

$$\begin{tikzcd}
A \ar[r, shift left, "f"] \ar[r, shift right, "g"'] & B 
\end{tikzcd}$$

Radi bi zožali domeno A na takšno podmnožico, da se f in g na njej ujemata. Torej $\set{x \in A \mid f(x) = g(x)} \subseteq A$. Označimo to množico z E in inkluzijo E v A z e, torej $\forall x \in E \enspace e(x)= x $. To, da je nek $x \in A$ v E lahko ekvivalentno povemo, kot da obstaja nek morfizem $\hat{x} : 1 \to A$ za katerega je $f \circ \hat{x} = g \circ \hat{x}$. Kar pa ravno tako pomeni, da obstaja nek $\hat{x}' : 1 \to E$, da je $\hat{x} = e \circ \hat{x}' = \hat{x}'$, kajti taki so ravno vsi elementi iz E. Situacijo lahko ponazorimo z naslednjim diagramom.
$$\begin{tikzcd}
E \ar[r, "e"] & A \ar[r, shift left, "f"] \ar[r, shift right, "g"'] & B \\
1 \ar[u, dashed, "\hat{x}'"] \ar[ur, "\hat{x}"'] \\
\end{tikzcd}$$

Uporabimo isto idejo kot prej in množico 1 zamenjamo s posplošenim elementom in dobimo naslednjo definicijo.

\begin{definicija}
\textit{Zožek} dveh morfizmov $f, g : A \to B$ je par objekta E in morfizma $e : E \to A$, da velja $f \circ e = g \circ r$, z univerzalno lastnostjo, da za vsak objekt X in morfizem $x : X \to A$, za katerega velja $f \circ x = g \circ x$, obstaja enoličen morfizem $x' : X \to E$, da lahko x razdelimo na e in $x'$ (pravilna terminologija?), oziroma $x = ex'$.
Slika, ki jo lahko imamo v mislih je
$$\begin{tikzcd}
E \ar[r, "e"] & A \ar[r, shift left, "f"] \ar[r, shift right, "g"'] & B \\
X \ar[u, dashed, "x'"] \ar[ur, "x"']
\end{tikzcd}$$

\end{definicija}

\begin{primer}
Preverimo, da naš motivacijski zgled res ustreza definiciji zožka. Naj bosta $E$ in $e$ definirana kot zgoraj ter naj bosta $X$ in $h:X \to A$ taka, da velja $f \circ h = g \circ h$, kar pomeni, da je $f \circ h(x) = g \circ  h(x) \enspace \forall x \in X$. To je seveda ekvivalentno temu, da je $h(x) \in E \enspace \forall x \in X$. Kar pa pomeni, da bo naša funkcija $h' : X \to E$ definirana kot $h'(x) = h(x) \enspace \forall x \in X$. Lahko se je prepričati, da je to edina funkcija, ki ustreza temu pogoju (bolj podrobna zadnji stavek?).
\end{primer}

Velja naslednja trditev

\begin{trditev}
Če je $e : E \to A$ del zožka, je e monomorfizem.
\end{trditev}
\begin{dokaz}
Naj bosta $x,y : X \to E$ takšni, da velja $ex = ey$, recimo temu $z = ex = ey$. Potem po definiciji e velja $fex = gex$. Sledi, da obstaja enoličen $\hat{z} : X \to E$, da je $z = e\hat{z} = ex = ey$. To pa pomeni, da je $x = y$.

$$\begin{tikzcd}
E \ar[r, "e"] & A \ar[r, shift left, "f"] \ar[r, shift right, "g"'] & B \\
X \ar[u, bend left, shift left, dashed, "\hat{z}"] \ar[u, shift left, "x"] \ar[u, shift right, "y"'] \ar[ur, "z"'] \\
\end{tikzcd}$$

\end{dokaz}


\subsection{Kozožki}

Kozožki so dualni koncept zožkov, zato lahko kar napišemo definicijo

\begin{definicija}
\textit{Kozožek} morfizmov $f,g:A \to B$ je objekt Q in morfizem $q: B \to Q$ za katega je $q \circ f = q \circ g$, z naslednjo univezalno lastnostjo. Za vsak objekt Z in morfizem $z : B \to Z$ za katerega velja $z \circ f = z \circ g$, obstaja enoličen morfizem $z' : Q \to Z$, da velja $z = z' \circ q$.

$$\begin{tikzcd}
A \ar[r, shift left, "f"] \ar[r, shift right, "g"'] & B \ar[r, "q"] \ar[dr, "z"'] & Q \ar[d, dashed, "z'"] \\
& & Z \\
\end{tikzcd}$$

\end{definicija}

Slednja trditev sledi iz dualnosti.

\begin{trditev}
Če je $q : B \to Q$ del kozožka, je q epimorfizem.
\end{trditev}

\begin{primer}
Kozožki so posplošitev pojma kvocientne množice definirane z ekvivalenčno relacijo. Naj bo torej $A$ poljubna množica ter $R$ ekvivalenčna relacija na A, kar pomeni $R \subseteq A \times A$, z naslednjimi lastnostmi
\begin{itemize}
\item Refleksivnost: $xRx \enspace \forall x \in A$
\item Simetričnost: $xRy \Rightarrow yRx \enspace \forall x,y \in A$
\item Tranzitivnost: $xRy \enspace\&\enspace yRz \Rightarrow xRZ \enspace \forall x,y,z \in A$
\end{itemize}
Potem imamo dve koordinatni projekciji $r_1 : R \to A$, $r_2 : R \to A$ inkluzije $R$ v $A \times A$.

$$\begin{tikzcd}
& R \ar[dl, "r_1"'] \ar[d, hook] \ar[dr, "r_2"] & \\
A & A \times A \ar[l, "p_1"] \ar[r, "p_2"'] & A \\
\end{tikzcd}$$
definirani kot $r_1(x,y) = x$ in $r_2(x,y) = y$. Potem je kvocientna projekcija $\pi : A \to A/R$ kozožek $r_1$ in $r_2$.
Veljati mora $\forall (x,y) \in R : \pi r_1(x,y) = \pi r_2(x,y) \Leftrightarrow \pi(x) = \pi(y) \Leftrightarrow xRy \Leftrightarrow (x,y) \in R$. Denimo nato, da je $f$ tak, da $fr_1 = fr_2$, oz. $fr_1(x,y) = fr_2(x,y) $, kar pa pomeni, da $f$ slika ekvivalentna elementa iz $A$ v isti element, ker pa $\pi$  ravno tako slika ekvivalentna elementa v isti element, lahko $\hat{f}$ definiramo kot $\hat{f}(\pi(x)) ) = f(x) = f(y) = \hat{f}(\pi(y))$ (mogoče boljša notacija $xRy \Leftrightarrow [x] = [y]$?). Torej je $\hat{f}$ dobro definirana. Ali je ta funkcija $\hat{f}$ edina taka? Recimo, da obstaja že neka druga $g : A/R \to X$, da zanjo velja $f = g\pi$. Potem je za $xRy$, $g\pi(x) = f(x) = f(y) = g\pi(y)$. Ker pa je $\hat{f}(\pi(x)) = f(x) = g\pi(x)$, je $g = \hat{f}$. (Bolj razširiti argument?)

$$\begin{tikzcd}
R \ar[r, shift left, "r_1"] \ar[r, shift right, "r_2"'] & A \ar[r, "\pi"] \ar[dr, "f"'] & A/R \ar[d, dashed, "\hat{f}"] \\
& & X \\
\end{tikzcd}$$



\end{primer}

\begin{primer}
V topoloških prostorih tudi pogosto naletimo na situacijo kjer identificiramo neke točke med seboj in generiramo ekvivalenčno relacijo po kateri ustvarimo kvocientni prostor. Tudi to in podobni primeri lepljenja so primer kozožka. Naj bo torej $X$ nek topološki prostor in $\sim$ ekvivalenčna relacija na $X$.
\end{primer}

O kozožku si lahko mislimo, da zoži B z identifikacijo vseh parov $f(a) = f(b)$. To naredi na "najboljši" način, tako, da vsako drugo zožanje $f$ in $g$ lahko speljemo skozi Q.


\section{Povleki in potiski}
%TODO

\subsection{Povlek}

\begin{definicija}
Naj bosta $f : A \to C$ in $g : B \to C$ morfizma v kategoriji $\cat{C}$. \textit{Povlek} $f$ in $g$ je objekt $P$ z morfizmoma $p_1 : P \to A$, $p_2 : P \to B$, tako da tako imenovani "pullback kvadrat" (ustrezna terminologija?) komutira. Torej $fp_1 = gp_2$. Pri tem je P univerzalen tak objekt, kar pomeni, da za vsake $X$, $x_1 : X \to A$, $x_2 : X \to B$ za katere velja $fx_1 = gx_2$ obstaja enoličen morfizem $u : X \to P$ za katerega se $x_1$ in $x_2$ delita z $p_1$ in $p_2$.

$$\begin{tikzcd}
X
\arrow[drr, bend left, "x_2"]
\arrow[ddr, bend right, "x_1"']
\arrow[dr, dotted, "u" description] & & \\
& P \arrow[r, "p_2"] \arrow[d, "p_1"']
& B \arrow[d, "g"] \\
& A \arrow[r, "f"']
& C
\end{tikzcd}$$
Z enačbami
$$x_1 = p_1u \quad x_2 = p_2u$$
\end{definicija}

Na prvi pogled povlek deluje podobno kot produkt $A$ in $B$, a imamo še dva dodatna morfizma $f$ in $g$. Ta podobnost ni slučajna.

\begin{primer}
Poglejmo si kako bi lahko izgledal povlek v kategoriji $\cat{Set}$. Denimo, da imamo dve funkciji $f : A \to C$ in $g : B \to C$. Potrebujemo tako množico $P$, skupaj s funkcijama $p_1 : P \to A$, $p_2 : P \to B$. Za prvi približek vzamimo množico $A \times B$ skupaj s koordinatnima projekcijama in poglejmo kako bi jo morali popraviti, da bi izpolnjevala pogoj $fp_1 = gr_2$. Veljati bi moralo $fp_1(x,y) = gp_2(x,y) \Leftrightarrow f(x) = g(y)$. Torej v $P$ moramo imeti samo vse pare $(x,y)$ za katere je $f(x) = g(y)$. Definiramo $P := \set{(x,y) \in A \times B \mid f(x) = g(y)}$, z pododovanima projekcijama, ki ju tudi poimenujemo $p_1$ in $p_2$. Preverimo če res izpolnjuje univerzalno lastnost. Denimo, da sta še $z_1 : Z \to A$ in $z_2 : Z \to B$ taki, da $fz_1 = gz_2$. Definirajmo $u : Z \to P$ kot $u(z) = (z_1(z), z_2(z))$
Situacija je takšna

$$\begin{tikzcd}
Z
\arrow[drr, bend left, "z_2"]
\ar[dr, "u"]
\arrow[ddr, bend right, "z_1"'] & & \\
& P \arrow[r, "p_2"] \arrow[d, "p_1"']
& B \arrow[d, "g"] \\
& A \arrow[r, "f"']
& C
\end{tikzcd}$$

Potem velja $p_1u(z) = p_1(z_1(z),z_2(z)) = z_1(z)$ in $p_2u(z) = p_2(z_1(z),z_2(z)) = z_2(z)$ za vsak $z \in Z$. Denimo sedaj, da obstaja še neka druga funkcija $v : Z \to P$, za katero je $z_1 = p_1v$, $z_2 = p_2v$. Poglejmo, kaj mora veljati za funkcijo $v$. Naj bo $v(z) = (a,b) \in P$ za nek $z \in Z$. Veljati mora $z_1(z) = p_1v(z) = p_1(x,y) = x$. Po drugi strani pa $z_2(z) = p_2v(z) = p_2(x,y) = y$. Torej je $v(z) = (x,y) = (z_1(z),z_2(z))$, oziroma $v = u$.
\end{primer}

\begin{trditev}
Naj bo $\cat{C}$ kategorija z končnimi produkti in zožki. Potem $\cat{C}$ ima povleke.
\end{trditev}
\begin{dokaz}
Naj bosta $f : A \to C$, $g : B \to C$ morfizma v kategoriji $\cat{C}$. Za prvi približek vzamemo produkt objektov $A$ in $B$, ki pride opremljen z morfizmoma $\pi_1 : A \times B \to A$ , $\pi_2 : A \times B \to B$. Sedaj vzemimo zožek morfizmov $f\pi_1$ in $g\pi_2$, ki ga poimenujemo $e : E \to A \times B$. Situacija je sledeča.

$$\begin{tikzcd}
E
\ar[dr, "e"] \\
& A \times B \arrow[r, "\pi_2"] \arrow[d, "\pi_1"']
& B \arrow[d, "g"] \\
& A \arrow[r, "f"']
& C
\end{tikzcd}$$
oziroma v skrčeni (pullback) obliki

$$\begin{tikzcd}
& E \arrow[r, "e\pi_2"] \arrow[d, "e\pi_1"']
& B \arrow[d, "g"] \\
& A \arrow[r, "f"']
& C
\end{tikzcd}$$
Velja: $f\pi_1e = g\pi_2e$, oziroma ta kvadrat komutira. Recimo sedaj, da je $X$ opremljen z morfizmoma $x_1 : X \to A$, $x_2 : X \to B$, tak da velja $fx_1 = gx_2$. Par morfizmov $x_1,x_2$ je v bistvu morfizem 
$$\langle x_1,x_2 \rangle : X \to A \times B$$
za katerega velja
$$f\pi_1\fprod{x_1,x_2} = g\pi_2\fprod{x_1,x_2}.$$

Ker pa je $e$ zožek $f\pi_1$ in $g\pi_2$, obstaja enoličen morfizem $u : X \to E$, da velja 
$$\fprod{x_1,x_2} = eu$$

$$\begin{tikzcd}
X \ar[ddr, bend right, "x_1"'] \ar[drr, bend left, "x_2"] \ar[dr, dashed, "u"] \\
& E \arrow[r, "e\pi_2"] \arrow[d, "e\pi_1"']
& B \arrow[d, "g"] \\
& A \arrow[r, "f"']
& C
\end{tikzcd}$$
%
Ali napisano drugače
$$x_1 = \pi_1eu, \quad x_2 = \pi_2eu$$
Kar pa pomeni ravno, da je $E$, skupaj z morfizmoma $e\pi_1$, $e\pi_2$ ravno povlek $f$ in $g$.
\end{dokaz}

Iz trditve vidimo, da je v povleku zakodirana vsa informacija, ki jo imata produkt ter zožek. Kot bomo videli, so vsi trije konstrukti primeri splošnejšega pojma, ki mu pravimo limita.



\subsection{Potiski}

Definicja potiska je seveda dualna definiciji povleka in jo lahko kar napišemo.

\begin{definicija}
Naj bosta $f: C \to A$ in $g : C \to B$ morfizma v kategoriji $\cat{C}$. \emph{Potisk} $f$ in $g$ je objekt $Q$ skupaj z morfizmoma $q_1 : A \to Q$, $q_2 : B \to Q$, tako da diagram
$$\begin{tikzcd}
C \ar[r, "g"] \ar[d, "f"'] & B \ar[d, "q_2"] \\
A \ar[r, "q_1"'] & Q \\
\end{tikzcd}$$
komutira. Ta konstrukcija ima univerzalno lastnost, da za vsak objekt $Z$ z morfizmoma $z_1 : A \to Z$, $z_2 : B \to Z$ za katera velja $$z_1f = z_2g$$
obstaja enolično določen morfizem $v : Q \to Z$, da naslednji diagram komutira.

$$\begin{tikzcd}
C \ar[r, "g"] \ar[d, "f"'] & B \ar[d, "q_2"] \ar[ddr, bend left, "z_2"] & \\
A \ar[r, "q_1"'] \ar[drr, bend right, "z_1"'] & Q \ar[dr, dashed, "v"] & \\
& & Z 
\end{tikzcd}$$
ali z enačbami $$z_1 = v q_1, \quad z_2 = v q_2.$$
\end{definicija}

Naravna ideja kako se potisk udejanja v ketegoriji $\cat{Set}$ je, da je tako povezan s koprodukti in kozožki, kot je povlek povezan s produkti in zožki.

\begin{primer}
Naj bosta $f : C \to A$, $g: C \to B$ funkciji iz množice $C$. Naj bo $A + B$ koprodukt (ali disjunktna unija) množic $A$ in $B$. Vemo, da je opremljen z dvema funkcijama $\iota_1 : A \to A + B$, $\iota_2 : B \to A+B$.
\end{primer}

\section{Limite, kolimite in eksponenti}
%TODO


\subsection{Limite}
%TODO

Konstrukcije, ki smo jih do sedaj videli imajo med seboj nekaj skupnega, in sicer pri vseh imamo neko posebno konfiguracijo objektov in morfizmov in proizvedemo nek objekt, ki je povezan s to konfiguracijo z neko univerzalno lastnostjo. Je "najboljši" tak objekt, ki ustreza pogojem komutativnosti, ki jih ta konstrukcija predstavlja. Do sedaj smo to konfiguracijo poimenovali diagram. Pa definirajmo pojem diagrama bolj točno.

\begin{definicija}
\textit{Diagram oblike} $\cat{J}$ v kategoriji $\cat{C}$ je funktor $D : \cat{J} \to \cat{C}$. Kjer $\cat{J}$ pravimo tudi \textit{indeksna} kategorija. Objekte v indeksni kategoriji označujemo z $i,j,\ldots$ in vrednosti funktorja $D_i,D_j,\ldots$ \\
\textit{Stožec nad diagramom} $D$ je objekt $C$ v $\cat{C}$ skupaj z družino morfizmov $c_i : C \to D_i$ iz $\cat{C}$ za vsak objekt $i \in \cat{J}$, tako da za vsak morfizem $\alpha : i \to j$ v $\cat{J}$ naslednji diagram komutira

$$\begin{tikzcd}[column sep=small]
& C \ar[dl, "c_i"'] \ar[dr, "c_j"] & \\
D_i \ar[rr, "D_\alpha"'] & & D_j \\
\end{tikzcd}$$

ali z enačbami $$c_j = D_\alpha \circ c_i$$

Morfizem stožcev $\vartheta : (C, c_i) \to (C', c_i')$ je morfizem $\vartheta : C \to C'$ v $\cat{C}$, tako, da za vsak $i \in \cat{J}$ naslednji diagram komutira

$$\begin{tikzcd}
C \ar[dr, "c_i"'] \ar[r, "\vartheta"] & C' \ar[d, "c_i'"] \\
& D_i
\end{tikzcd}$$

oz. $$c_i = c_i' \vartheta$$

Tako dobimo novo kategorijo $\cat{Cone}(D)$ stožcev na $D$.
\end{definicija}

Diagrame $D$ si lahko predstavljamo kot "slike oblike $\cat{J}$ v $\cat{C}$. Poglejmo si to na majhnem primeru. Kaj se zgodi na primer, če za $\cat{J}$ vzamemo na primer diskretno kategorijo z dvemi elementi $\cat{J} = \set{1,2}$. Stožec nad diagramom $D : \cat{J} \to \cat{C}$ sestoji iz objekta $C$ in dveh morfizmov $c_1 : C \to D_1$, $c_2 : C \to D_2$.

$$\begin{tikzcd}[column sep=normal, row sep=small]
& C \ar[dl, "c_1"'] \ar[dr, "c_2"] & \\
D_1 && D_2 \\
\end{tikzcd}$$

Morfizem stožcev $\vartheta : (C,c_i) \to (C', c_i')$ zgleda kot 

$$\begin{tikzcd}
& C' \ar[dl, "c_1'"'] \ar[d, "\vartheta"] \ar[dr, "c_2'"] & \\
D_1 & C \ar[l, "c_1"] \ar[r, "c_2"'] & D_2 \\
\end{tikzcd}$$

da trikotnika komutirata, ali $c_1' = c_1\vartheta$, $c_2' = c_2\vartheta$.

\begin{definicija}
\textit{Limita} nad diagramom $D : \cat{J} \to \cat{C}$ je končni objekt v kategoriji stožcev nad $D$ $\cat{Cone}(D)$. Limito diagrama označujemo kot
$$\lim_{i \in \cat{J}}D_i$$
(mogoče rajši samo $\lim D$)
z morfizmi $p_i : \lim D \to D_i$.


Če v celoti napišemo univerzalno lastnost, ki jo ima limita nad $D$, pravi, da za vsak drug stožec $(C,c_i)$ v $\cat{Cone}(D)$ obstaja enoličen morfizem $u : C \to \lim D$, tako da za vse $i \in \cat{J}$ velja $c_i = p_i \circ u$.

$$\begin{tikzcd}
C \ar[rr, dashed, "u"] \ar[drrr, pos=7/11, "c_j"'] \ar[dr, "c_i"'] & & \lim D \ar[dl, crossing over, pos=1/3, "p_i"'] \ar[dr, "p_j"] \\
& D_i \ar[rr, "D_\alpha"'] & & D_j \\
\end{tikzcd}$$
\end{definicija}

Limito si lahko torej predstavljamo kot "najbližji" stožec diagramu $D$, kajti vsi drugi stožci morajo "iti skozi" limito. Limita nekega diagrama ne obstaja nujno. Če obstaja limita za vsak diagram $D : \cat{J} \to \cat{C}$ za neko indeksno kategorijo $\cat{J}$ pravimo, da $\cat{C}$ \textit{ima limite tipa} $\cat{J}$.

\begin{primer}
Nadaljujmo s primerom za diagrame iz diskretne kategorije na dveh objektih, ki jo poimenujmo kot zgoraj z $\cat{J}$. Kaj je limita nad $D : \cat{J} \to \cat{C}$. To je tak objekt $\lim D$ z morfizmi $p_1 : \lim D \to D_1$, $p_2 : \lim D \to D_2$, da za vsak objekt $X$ opremljen z morfizmoma $x_1 : X \to D_1$, $x_2 : X \to D_2$, obstaja enoličen morfizem $u : X \to \lim D$, da naslednja trikotnika komutirata 

$$\begin{tikzcd}
& X \ar[dl, "x_1"'] \ar[d, dashed, "u"] \ar[dr, "x_2"] & \\
D_1 & \lim D \ar[l, "p_1"] \ar[r, "p_2"'] & D_2 \\
\end{tikzcd}$$

V tem diagramu pa lahko spoznamo ravno univerzalno lastnost produkta objektov $D_1$ in $D_2$. Torej kategorija $\cat{C}$ ima limite tipa $\cat{J}$ natanko takrat, ko ima binarne produkte.

\end{primer}

\begin{primer}
Poskusimo še z bolj enostavno indeksno kategorijo. Naj bo $\cat{J}$ prazna kategorija brez objektov in brez puščic. Potem obstaja natanko en diagram $D : \cat{J} \to \cat{C}$, ki nobenega objekta ne pošlje nikamor. Limita $\lim D$ nad tem diagramom je objekt, brez dodatnih morfizmov, da za vsak drug objekt $C$ obstaja natanko en morfizem $u : C \to \lim D$, da nič dodatnega ne komutira. Ta limita je torej natanko \textit{končni objekt} v $\cat{C}$.
\end{primer}

\begin{primer}
Naj bo $\cat{J}$ enaka kategoriji $\cat{1} = \set{\ast}$ z enim objektom in enim morfizmom. Stožec nad diagramom $D : \cat{1} \to \cat{C}$ je objekt $C$ skupaj z morfizmom $c : C \to D$ (abuse notacije, dovolj razumljivo ?). Limita nad D je objekt $\lim D$ z morfizmom $p : \lim D \to D$, da za vsak drug stožec $(C, c)$ obstaja enoličen morfizem $u : C \to \lim D$, da trikotnik

$$\begin{tikzcd}[column sep=small]
C \ar[dr, "c"'] \ar[rr, dashed, "u"] & & \lim D \ar[dl, "p"] \\
& D & \\
\end{tikzcd}$$
komutira. V tej situaciji lahko razpoznamo rezinsko kategorijo $\cat{C}/D$ nad objektom $D = D(\ast)$. Limita $\lim D$ je končni objekt v tej kategoriji.
\end{primer}

\begin{definicija}
Za kategorijo $\cat{C}$ pravimo, da je \emph{kompletna}, če ima vse majhne limite, kar pomeni, da za vsako majhno indeksno kategorijo $J$ in diagram $D : J \to \cat{C}$ obstaja limita $\lim_{j \in J} D_j$ v $\cat{C}$.
\end{definicija}

\begin{trditev}
Kategorija $\cat{Sets}$ je kompletna
\end{trditev}
\begin{dokaz}
TODO
\end{dokaz}

\subsection{Kolimite}
%TODO
Kot smo tega že vajeni, so limite dualen pojem limit. In tako kot limite posplošijo konstrukcije produktov, zožkov, povlekov,... Ravno tako kolimite posplošijo konstrukcije koproduktov, kozožkov, potiskov.

\begin{definicija} (Direktna definicija)

\emph{Kolimita} nad diagramom $D : \cat{J} \to \cat{C}$ je začetni objekt v kategoriji kostožcev nad $D$.
\end{definicija}

\begin{definicija}
Dualno kot za limite, za kolimite poznamo pojem \emph{kokompletnosti}, kar pomeni, da ima za poljubno majhno indeksno kategorijo $J$, vsak diagram $D : J \to \cat{C}$ kolimito $\colim_{j \in J} D_j$ v $\cat{C}$.
\end{definicija}

\subsection{Eksponenti}

\begin{definicija}
Naj ima kategorija $\cat{C}$ binarne produkte. \textit{Eksponent} objektov B in C sestoji iz objekta 
$$C^B$$
in morfizma
$$\epsilon : C^B \times B \to C$$ imenovanega \textit{evaluacija}, takega, da za vsak objekt $A$ in morfizem 
$$f : A \times B \to C$$
obstaja enoličen morfizem 
$$\widetilde{f} : A \to C^B$$
tako da velja
$$\epsilon \circ (\widetilde{f} \times 1_B) = f$$
kar lahko vidimo v spodnjem diagramu.

$$\begin{tikzcd}
C^B &  C^B \times B \ar[r, "\epsilon"] & C \\
A \ar[u, dashed, "\widetilde{f}"] &  A \times B \ar[u, "\widetilde{f} \times 1_B"] \ar[ur, "f"'] & \\
\end{tikzcd}$$

Tu morfizmu $\widetilde{f}$ pravimo \textit{transponiranka} od $f$.

\end{definicija}

Za vsak morfizem $$g : A \to B^C$$ pišemo
$$ \overline{g} := \epsilon \circ (g \times 1_B) : A \times B \to C$$
in morfizem $\overline{g}$ tudi imenujemo \textit{transponiranka} od $g$. Po enoličnosti iz definicije potem velja
$$\widetilde{\overline{g}} = g$$
Velja pa tudi
$$\overline{\widetilde{f}} = f$$
za vsak $f : A \times B \to C$.

\begin{primer}
Naj bosta množici v $\cat{Sets}$. Definirajmo množico $D^C := \set{g : C \to D}$ vseh funkcij od $C$ do $D$. Definirajmo tudi funkcijo $\epsilon : D^C \times C \to D$ s predpisom $\epsilon(g,c) = g(c)$.

Naj bo sedaj $A$ poljubna množica in $f : A \times C \to D$ poljubna funkcija. Da bo množica $D^C$ res eksponent množic $C$ in $D$ mora obstajati taka enolična funkcija $\widetilde{f} : A \to D^C$, da velja enakost $f = \epsilon \circ (\widetilde{f} \times 1_C)$, kar pomeni, da je
$$f(a,c) = \epsilon \circ (\widetilde{f} \times 1_C)(a,c) = \epsilon(\widetilde{f}(a),c) = \widetilde{f}(a)(c)$$
za vsak $(a,c) \in A \times C$. Preverimo še, da je tako definiran $\widetilde{f}$ res enolična izbira. Denimo, da obstaja še ena taka funkcija $h$, da velja $f = \epsilon \circ (h \times 1_C)$. Veljati mora
$$\epsilon \circ (h \times 1_C)(a,c) = \epsilon(h(a),c) = h(a)(c) = \widetilde{f}(a)(c).$$
Ker pa to velja za poljuben $(a,c) \in A \times C$, sta si funkciji $\widetilde{f}$ in $h$ enaki.

Eksponentni objekt dveh množic je torej ravno množica vseh morfizmov med njima. Ta pojem smo že srečali pod imenom Hom-sets.
Eksponente v neki kategoriji si lahko torej predstavljamo kot neke vrste posplošeno množico vseh funkcij med dvema objektoma. 
\end{primer}

\section{Funktorji in naravne transformacije}

\subsection{Morfizmi med kategorijami}

Neuradni moto teorije kategorij bi se lahko glasil \textit{puščice so bistvene},
kar bi pomenilo, da nas ponavadi ne zanima toliko kaj točno so objekti v neki specifični kategoriji temveč kaj se dogaja s puščicami med njimi.

Funktorji kot vemo so morfizmi v kategoriji $\cat{Cat}$ in kot taki so lahko monomorfizmi ali epimorfizmi. Ker lahko na monomorfizme gledamo kot na posplošene podmnožice, pravimo monomorfizmu v $\cat{Cat}$ \emph{podkategorija}. Za funktorje pa poznamo tudi druge klasifikacije, ki so pogosto uporabne

\begin{definicija}
Za funktor $F : \cat{C} \to \cat{D}$ pravimo, da je 
\begin{itemize}
\item \emph{Injektiven na objektih}, če je morfizem objektov $F_0 : \cat{C}_0 \to \cat{D}_0$ injektivna, oziroma, da je \emph{surjektiven na objektih}, če je $F_0$ surjektivna.
\item \emph{Injektiven}/\emph{surjektiven na morfizmih}, če je $F_1$ injektive/asurjektivna.
\item \emph{Poln}, če je za vsaka objekta $A,B \in \cat{C}$
$$F_{A,B} : \Hom_{\cat{C}}(A,B) \to Hom_{\cat{D}}(F(A),F(B))$$
surjektivna.
\item \emph{Zvest}, če je za vsaka $A,B \in \cat{C}$
$$F_{A,B} : \Hom_{\cat{C}}(A,B) \to Hom_{\cat{D}}(F(A),F(B))$$
injektivna.
\end{itemize}
\end{definicija}

\begin{primer}
Poglejmo si zakaj tej pojmi niso med seboj ekvivalentni. Naj bo $\cat{C}$ kategorija in naj bo $\nabla : \cat{C} + \cat{C} \to \cat{C}$ kodiagonalni funktor, torej tak, ki obe "kopiji" pošlje v "original".

$$\begin{tikzcd}[column sep=normal]
C \ar[r, "\iota_1"] \ar[dr, "1_C"'] & C + C \ar[d, "\nabla"] & C \ar[l, "\iota_2"'] \ar[dl, "1_C"] \\
& C & \\
\end{tikzcd}$$

Pokažimo, da je ta funktor zvest, ni pa injektiven na objektih. Izberimo si dva objekta $A,B \in \cat{C} + \cat{C}$. Med $A$ in $B$ obstaja morfizem natanko 

\end{primer}

\subsection{Morfizmi med funktorji}
Radi bi nadaljevali temo posploševanja morfizmov in ker smo nazadnje definirali morfizme med kategorijami, se naravno pojavi vprašanje, ali lahko definiramo morfizme med temi morfizmi. Odgovor je pozitiven in pridemo do naslednje definicije.

\begin{definicija}
Naj bosta $\cat{C}$ in $\cat{D}$ poljubni kategoriji in naj bosta $F,G : \cat{C} \to \cat{D}$ funktorja med tema kategorijama. \\
\textit{Naravna transformacija} $\vartheta : F \Rightarrow G$ iz F v G, je družina puščic 
$$(\vartheta_C : FC \to GC)_{C \in \cat{C}}$$
tako, da za vsako puščico $f : C \to D$ naslednji diagram:

\begin{equation}
\begin{tikzcd}[sep=huge]
FC \arrow[r, "\vartheta_C"] \arrow[d, "F(f)"'] & GC \arrow[d, "G(f)"] \\
FD \arrow[r, "\vartheta_D"'] & GD
\end{tikzcd}
\end{equation}
komutira
\end{definicija}


\chapter{Pomembne trditve in definicije}

Najprej predstavimo definicijo, ki nam bo omogočala definirati razred kategorij, s katerim je posebej lepo delati.
\begin{definicija}
Kategorija $\cat{C}$ je \emph{lokalno majhna}, če je kolekcija morfizmov med vsakima dvema objektoma množica.
\end{definicija}
\begin{opomba}
To torej pomeni, da imamo definiran funktor $\Hom_{\cat{C}} : \cat{C}^{op} \times \cat{C} \to \cat{Sets}$, za vsaka dva objekta iz $\cat{C}$.
\end{opomba}

\begin{trditev}
Kategorija ime vse \textit{končne limite} natanko takrat, ko ima vse končne produkte in zožke.

To da ima kategorija končne limite pomeni, da ima vsak končni diagram $D : \cat{J} \to \cat{C}$ limito v $\cat{C}$.

\end{trditev}
\begin{dokaz}
Naj bo $D : \cat{J} \to \cat{C}$ diagram v $\cat{C}$. Iščemo objekt v $\cat{C}$, ki ima morfizme do vsakega izmed $D_i$ 
\end{dokaz} 
 
\begin{trditev} Predstavljivi funktor $\Hom_{\bf{C}}(C,-): \bf{C} \to \bf{Sets}$ ohranja vse limite.
\end{trditev}
\begin{dokaz}

\end{dokaz}


\begin{trditev}
$\Hom(A, C^B) \cong \Hom(A \times B, C)$
\end{trditev}
\begin{dokaz}
Sledi iz definicije eksponenta in transponiranja. (Dopolni, bolj ekstenziven dokaz)
\end{dokaz}

\begin{trditev}
\label{ohranjanje kolimit}
Za poljubni kategoriji $\cat{C}$ in $\cat{D}$, če je $\cat{D}$ ko-kompletna (ima vse majhne kolimite), potem je ko-kompletna tudi funktorska kategorija $\cat{D}^{\cat{C}}$ in kolimite v $\cat{D}^{\cat{C}}$ se izračuna "po točkah", v smislu, da za vsak $C \in \cat{C}$ evaluacijski funktor
$$ev_C : \cat{D}^{\cat{C}} \to \cat{D}$$
ohranja kolimite. Torej imamo za vsako majhno indeksno kategorijo $J$ in funktor $F : J \to \cat{D}^{\cat{C}}$ in vsak $C \in \cat{C}$ kanoničen izomorfizem,
$$(\colim_j F_j)(C) \quad \cong \quad \colim_j (F_jC)$$
\end{trditev}
\begin{dokaz}
Naj bo $F: J \to \cat{D}^{\cat{C}}$. Po lastnosti eksponentov obstaja enoličen $\overline{F}: J \times \cat{C} \to \cat{D}$, da diagram

\begin{equation}
\begin{tikzcd}
\cat{D}^{\cat{C}} \times \cat{C} \ar[r, "\epsilon"] & \cat{D} \\
J \times \cat{C} \ar[u, "F \times 1_{\cat{C}}"] \ar[ur, "\overline{F}"'] \\
\end{tikzcd}
\end{equation}
komutira, kjer je $\epsilon_{\cat{C}}$ evaluacijski funktor.
Za vsak $C \in \cat{C}$ lahko definiramo funktor $\overline{F}(-,C): J \to \cat{D}$, ki vsak $i \in J$ slika v $\overline{F}(i,C) = \epsilon(F \times 1_\cat{C})(j,C) = F_j(C)$.
Kolimito za $F$ definiramo kot
$$\colim F_k(C) := \colim_{k \in J}\overline{F}(k,C)$$
\end{dokaz}

\begin{definicija}
Naj bo \textbf{C} definicja. \textit{Klasifikator podobjekta} je objekt $\Omega$ z puščico $true: 1 \to \Omega$
\end{definicija}


\chapter{Yonedova lema}

V glavni temi diplomske bomo govorili o lemi, ki nam za vsako (dovolj lepo) kategorijo $\cat{C}$ poda vložitev v kategorijo predsnopov $\predsnop{C}$, ki je v nekem smislu precej lepa kateogrija, kajti kot bomo videli je ta kategorija kartezično zaprta ima vse kolimite.
Podamo lahko analogijo z vložitvijo realnih števil $\mathbb{R}$, kjer obstajajo polinomi, ki nimajo rešitve v tej množici, n primer polinom $p(x) = x^2 + 1$ v kompleksna števila $\mathbb{C}$, kjer pa ima vsak polinom rešitev. To v tem primeru storimo na najbolj ekonomičen, oziroma naraven način. Ravno tako bomo videli, da je vložitev kategorije $\cat{C}$ v funktorsko kategorijo $\predsnop{C}$ naravna.

\section{Yonedova vložitev}

Naj bo $\mathbf{C}$ lokalno majhna kategorija.
Potem vemo, da imamo za vsak objekt $C \in \cat{C}$ definiran kontravariantni funktor 
$$\Hom_{\cat{C}}(-,C) : \cat{C}^{op} \to \cat{Sets}$$
Ker lahko ta objekt C izbiramo poljubno imamo v resnici funktor, ki ga označimo z $y$
$$y(C) = \Hom(-,C) $$
Opravka imamo z kovariantnim funktorjem 
$$y : \mathbf{C} \to \mathbf{Sets}^{\cat{C}^{op}}$$
saj imamo v resnici opravka z transponiranim bifunktorjem
$$\Hom_{\cat{C}} : \cat{C} \times \cat{C}^{op} \to \cat{Sets}$$
za katerega po bifunktorski lemi vemo, da je funktor.


\begin{definicija} {\it Yonedova vložitev} je funktor $y : \bf{C} \to \bf{Sets}^{\bf{C}^{op}}$ \\  za $C \in \bf{C}$ je $$y(C) := \Hom_{\bf{C}}(-, C) : \bf{C}^{op} \to \bf{Sets}$$ in za puščice $f : C \to D$
$$y(f) := \Hom(-,f) : \Hom(-,C) \to \Hom(-,D)$$
\end{definicija}

Kasneje bomo pokazali, da je funktor y res vložitev. Funktorju pravimo {\it vložitev}, če je zvest poln in injektiven na objektih.

\section{Yonedova lema}

Prof. Yoneda was born on 28 March, 1930.  He studied mathematics in
the University of Tokyo

Profesor Nobuo Yoneda se je rodil 28 marca, leta 1930. Matematiko je študiral na univerzi v Tokiu. V času njegovega študija je Tokijško univerzo obiskal prof. Samuel Eilenberg in Yoneda je z njim potoval po Japonski kot vodič in prevajalec. Kasneje je pridobil Fulbrightovo štipendijo in obiskal Princeton kjer je študiral pod Eilenbergom. Kmalu po tem ko je Yoneda prispel v Princeton je Eilenberg odpotoval v Francijo, kar je po enem letu storil tudi Yoneda. V tem času je Saunders Mac Lane obiskoval ljudi v povezavi s knjigo, ki jo je pisal o teoriji kategorij in na ta način spoznal mladega Yonedo. Njun interviju se je začel v Caf'e at Gare du Nord in trajal vse do odhoda Yonedovega vlaka. Vsebino tega pogovora je Mac Lane poimenoval kot Yonedova lema.


Glavna ideja Yonedove leme je v tem, da je za opis kontravariantnih funktorjev v $\cat{Sets}$ dovolj poznati le delovanje predstavljivih funktorjev, saj lahko z njimi izrazimo poljuben drug funktor, na naraven način. Poglejmo točno formulacijo.


\begin{izrek}[Yonedova lema]
Naj bo $\cat{C}$ lokalno majhna kategorija. Potem za vsak objekt $C \in \bf{C}$ in funktor $F : \textbf{C}^{op} \to \textbf{Sets}$ velja
$$\Hom(yC,F) \cong FC$$
In ta izomorfizem je naraven tako v C kot v F, kar pomeni, da za $f : C \to D$ naslednji diagram

\begin{equation} \label{diag1}
\begin{tikzcd}[row sep=huge]
\Hom(yC,F) \arrow[r, "\cong"] \arrow[d, "{\Hom(yf,F)}"'] & FC \arrow[d, "F(f)"] \\
\Hom(yD,F) \arrow[r, "\cong"'] & FD
\end{tikzcd}
\end{equation}


komutira ter za naravno transformacijo $\varphi : F \Rightarrow G$ naslednji diagram

\begin{equation} \label{diag2}
\begin{tikzcd}[row sep=huge]
\Hom(yC,F) \arrow[r, "\cong"] \arrow[d, "{\Hom(yC,}\varphi\text{)}"'] & FC \arrow[d, "\varphi_C"] \\
\Hom(yC,G) \arrow[r, "\cong"']	&	GC
\end{tikzcd}
\end{equation}
komutira. \\
\textbf{Opomba:} $\Hom(yC,F)$ je množica naravnih transformacij med funktorjema $yC,F : \bf{C} \to \bf{Sets}$, oz. $\Hom(yC,F) = \Hom_{\bf{Sets}^{\textbf{C}^{op}}}(yC,F) = Nat(yC,F)$.

\end{izrek}
\begin{dokaz}
Poglejmo, kaj mora veljati za neko naravno transformacijo \\ $\vartheta : yC \Rightarrow F$, ki je v bistvu družina puščic $(\vartheta_D : yC(D) \to F(D))_{D \in \bf{C}}$. Te puščice morajo izpolnjevati naturalnostni pogoj, da za vsako puščico $f : D \to C$

\[ \begin{tikzcd}[row sep=huge]
\Hom(C,C) \arrow[r, "\vartheta_C"] \arrow[d, "{\Hom(f,C)}"'] & FC \arrow[d, "\text{F(f)}"] \\
\Hom(D,C) \arrow[r, "\vartheta_D"] & FD
\end{tikzcd} \]
komutira. Torej mora veljati 
$$(F(f) \circ \vartheta_C) (g) = (\vartheta_D \circ \Hom(f,C)) (g)$$
za vsak $g \in \Hom(C,C)$. En tak g je identitetna puščica na C, oz. $1_C : C \to C$. Torej mora veljati enakost:

\begin{align} \label{eq1}
\begin{split}
\underline{F(f) \circ \vartheta_C(1_C)}& = \vartheta_D \circ \Hom(f,C)(1_C) = \\
\vartheta_D \circ \Hom(f,C)(1_C)& = \vartheta_D \circ ( \_ \circ f )(1_C) =
\vartheta_D \circ ( 1_C \circ f) = \underline{\vartheta_D(f)}
\end{split}
\end{align}
\\
Torej vidimo, da je vrednost komponente za $\vartheta$ v D določena že s tem, kam slika $\vartheta_C$ puščico $1_C$. \\
Naj bo z $\alpha_{C,F} : \Hom(yC,F) \to FC$ označen želeni izomorfizem. \\
Definiramo torej za naravno transformacijo $\vartheta \in \Hom(yC,F)$
\begin{equation}
\alpha_{C,F}(\vartheta) := \vartheta_C(1_C)
\end{equation}

Označimo:
\begin{equation}
\boxed{\alpha_{C,F}(\vartheta) = \widehat{\vartheta}}
\end{equation} 

In za vsak element $a \in FC$ definirajmo naravno transformacijo $\vartheta_a \in \Hom(yC,F)$ po komponentah, in sicer:
\begin{align}
&(\vartheta_a)_D : yC(D) \to F(D) \\
&(\vartheta_a)_D(f : D \to C) := F(f)(a)
\end{align}

Označimo:
\begin{equation}
\boxed{\alpha^{-1}_{C,F}(a) = \widetilde{a}}
\end{equation}

Sedaj je potrebno preveriti, da tako definirana preslikava res ustreza pogojem izreka. \\
\\
Najprej preverimo, da sta si predpisa vzajemno inverzna. \\
Torej, da za vsak $\vartheta \in \Hom(yC,F)$ velja: 
$$\widetilde{\widehat{\vartheta}} = \vartheta$$
in za vsak $a \in FC$ velja
$$\widehat{\widetilde{a}} = a$$
\\ 1.)
$\widehat{\vartheta} = \vartheta_C(1_C) \in FC$. \\
Potem je $\widetilde{\widehat{\vartheta}} = \eta_{\widehat{\vartheta}} \in \Hom(yC,F)$. Poglejmo kako ta naravna transformacija deluje na puščicah. Naj bo $f : D \to C$
\begin{align*}
(\eta_{\widehat{\vartheta}})_D : yC(&D) \to FD \\
&f \xmapsto{def} Ff(\widehat{\vartheta}) \\
\end{align*}

In velja
\begin{align*}
&Ff(\widehat{\vartheta}) = Ff(\vartheta_C(1_C)) = \vartheta_D(f) \\
\implies& \forall f \in \textbf{C}_1  : (\eta_{\widehat{\vartheta}})_D(f) = \vartheta_D(f) \\
\implies& \forall D \in \textbf{C} : (\eta_{\widehat{\vartheta}})_D = \vartheta_D \\
\implies& \eta_{\widehat{\vartheta}} = \vartheta
\implies \underline{\widetilde{\widehat{\vartheta}} = \vartheta}
\end{align*}
2.) 

$$\widetilde{a} = \vartheta_a : yC \Rightarrow F$$
In velja
\begin{align*}
(\vartheta_a)_D : yC(D) \to FD \\
f \mapsto F(f)(a) \\
\end{align*}
Torej
$$\widehat{\widetilde{a}} = (\vartheta_a)_C(1_C) = F(1_C)(a) = 1_{F(C)}(a) = a$$
\\
Sedaj moramo še pokazati, da sta zadoščena naturalnostna pogoja: \\
Naj bo $f : C \to D$ in naj bo $\vartheta \in \Hom(yC,F)$. \\
Pokazali bi radi:
\begin{equation}
Ff \circ \alpha_{C,F}(\vartheta) = \alpha_{D,F} \circ Hom(yf,F)(\vartheta)
\end{equation}
Velja pa:

$$Ff \circ \alpha_{C,F}(\vartheta) = \underline{Ff(\vartheta_C(1_C))}$$

In po drugi strani:
\begin{align*}
\alpha_{D,F} \circ \Hom(yf,F)(\vartheta) = \alpha_{D,F}(\vartheta \circ yf) = \\
(\vartheta \circ yf)_D (1_D) = \vartheta_D \circ yf_D(1_D) = \\
\vartheta_D(f \circ 1_D) = \underline{\vartheta_D(f)}
\end{align*}
Enakost \ref{eq1} pa nam pove ravno da je $Ff(\vartheta_C(1_C)) = \vartheta_D(f)$
To pa pomeni ravno, da diagram \ref{diag1} komutira.

Kaj pa drugi diagram. Naj bo $\varphi : F \Rightarrow G$ naravna transformacija med funktorjema $F,G : \cat{C}^{op} \to \cat{Sets}$. \\
Veljati mora enakost:
$$\varphi_C \circ \alpha_{C,F}(\vartheta) = \alpha_{C,G} \circ \Hom(yC,\varphi)(\vartheta)$$
Imamo:
$$\varphi_C \circ \alpha_{C,F}(\vartheta) = \underline{\varphi_C(\vartheta_C(1_C))}$$
In za desno stran:
$$\alpha_{C,G} \circ \Hom(yC,\varphi)(\vartheta) = \alpha_{C,G}(\varphi \circ \vartheta) = 
(\varphi \circ \vartheta)_C(1_C) = \varphi_C \circ \vartheta_C(1_C) = \underline{\varphi_C(\vartheta_C(1_C)}$$
Torej diagram \ref{diag2} tudi komutira.

\end{dokaz}

\section{Posledice Yonedove leme}

Takoj dobimo posledico, ki upraviči poimenovanje funktorja y vložitev
\begin{posledica} Funktor $y : \cat{C} \to \cat{Sets}^{\cat{C}^{op}}$ je poln in zvest.
\end{posledica}
\begin{dokaz}
Funktor $F:\cat{C} \to \cat{D}$ je zvest, če je za vsaka $A,B \in \cat{C}$ funkcija $F_{A,B} : \Hom(A,B) \to \Hom(FA,FB)$ injektivna in poln, če je surjektivna.
V našem primeru imamo za poljubna $A,B \in \cat{C}$ 
$$\Hom(yA,yB) \cong yB(A) \cong \Hom(A,B),$$
kjer prva enakost sledi iz Yonedove leme. Torej je ta inducirana funkcija za vsaka $A$ in $B$ bijekcija, torej je y res zvest in poln.
\end{dokaz}
\begin{opomba}
Opazimo lahko, da je Yonedova vložitev $y : \cat{C} \to \cat{Sets}^{\cat{C}^{op}}$ tudi injektivna na objektih, saj za poljubna $A,B \in \cat{C}$, za katera velja $yA = yB$, potem v posebnem primeru velja $yA(A) = yA(B)$ in $1_A \in \Hom(A,A) \Rightarrow 1_A \in \Hom(B,A) \Rightarrow B = A$.
\end{opomba}


Naslednja posledica nam poda način, kako nam Yonedova lema lahko olajša dokazovanje.

\begin{posledica} \emph{(Yoneda princip)}
Za poljubna objekta $A$ in $B$ v lokalno majhni kategoriji $\cat{C}$,
$$\text{iz} \quad yA \cong yB \quad\text{sledi}\quad A \cong B .$$
\end{posledica}
\begin{dokaz}
za $F : \cat{C}^{op} \to \cat{Sets}$ vzamemo kar $yB$ in ker $\Hom(yA,yB) \cong \Hom(A,B)$ in ker bijekcija slika izomorfizem v izomorfizem (y je namreč poln in zvest po prejšnji posledici), res velja $A \cong B$.
\end{dokaz}


Poglejmo si pogosto uporabo tega principa.

\begin{primer}
Radi pokazali, da v poljubni kartezično zaprti kategoriji $\cat{C}$ za poljubne $A,B,C \in \cat{C}$ velja $(A^B)^C \cong A^{(B \times C)}$.
Po Yonedovem principu moramo preveriti le, da velja $y((A^B)^C) \cong y(A^{(B \times C)})$ ter, da je ta izomorfizem naraven. Torej vzamemo poljuben $X \in \cat{C}$ in računamo
\begin{align*}
\Hom(X, (A^B)^C) \cong &\Hom(X \times C, A^B) \\
&\Hom(X \times C \times B, A) \\
&\Hom(X, A^{(B \times C)}) \\
\end{align*}
Prevereti je še potrebno, da so tej izomorfizmi naravni v $X$.
Naj bo torej $f : Y \to X$ v $ \cat{C}$. Situacija v $\cat{C}$ je naslednja

\begin{equation}
\begin{tikzcd}
(A^B)^C & (A^B)^C \times C \ar[r, "\epsilon"] & C \\
X \ar[u, "g"] & X \times C \ar[u, "g \times 1_C"] \ar[ur, "\overline{g}"'] & \\
Y \ar[u, "f"] & Y \times C \ar[u, "f \times 1_C"] \ar[uur, bend right, "\overline{g \circ f}"'] & \\
\end{tikzcd}
\end{equation}
kjer je $\epsilon$ evaluacija in $\overline{g}$ transponiranka za $g$. Po enoličnosti transponiranja je $\overline{g \circ f}$ enolični morfizem, da ta diagram komutira za $(g \circ f) \times 1_C$.


\end{primer}


Sedaj si poglejmo v kakem smislu je kategorija predsnopov $\predsnop{C}$ "lepa". Nekaj o tem nam pove naslednja trditev.

\begin{trditev}
Za vsako lokalno majhno kategorijo $\cat{C}$ je funktorska kategorija $\predsnop{C}$ kompletna. Za vsak objekt $C \in \cat{C}$, evaluacijski funktor 
$$ev_C : \predsnop{C} \to \cat{Sets}$$
ohranja vse limite.
\end{trditev}
\begin{dokaz}
Naj bo J majhna indeksna kategorija in $D : J \to \cat{Sets}^{\cat{C}^{op}}$ diagram oblike $J$. Če naj bi taka limita obstajala, bi to bil objekt v $\cat{Sets}^{\cat{C}^{op}}$, oziroma funktor 
$$(\lim_{j \in J} D_j): \cat{C}^{op} \to \cat{Sets}$$
po Yonedovi lemi, pa bi za tak funktor moralo veljati
$$(\lim_{j \in J} D_j)(C) \cong \Hom(yC, \lim D_j),$$
ker pa vemo, da predstavljivi funktorji ohranjajo limite velja
$$\Hom(yC, \lim D_j) \cong \lim_{j \in J} Hom(yC, D_j).$$
Z ponovno uporavo Yonedove leme dobimo
$$\lim_{j \in J} Hom(yC, D_j) \cong \lim_{j \in J} D_j(C).$$
Torej limito v $\predsnop{C}$ definiramo kar kot $\lim_{j \in J} (D_j(C))$, oz. po točkah.
Preostane še poiskati oz. definirati stožec nad tem objektom in pokazati, da je končen med stožci nad $D$.



\end{dokaz}

Ni pa ta kategorija predsnopov le kompletna, ampak tudi kokompletna, kar pa dejansko sledi že iz dejstva da je kategoriaj $\cat{Sets}$ kompletna.

\begin{trditev}
Za vsako lokalno majhno kategorijo $\cat{C}$ je funktorska kategorija $\predsnop{C}$ kokompletna in kolimite se izračuna "po točkah".
\end{trditev}
\begin{dokaz}
Sledi iz trditve \ref{ohranjanje kolimit} in dejstva, da je $\cat{Sets}$ kokompletna.
\end{dokaz}

Povemo pa lahko še več. Naslednji izrek, všasih imenovan tudi \emph{gostotni izrek}, je v nekem smislu dual Yonedove leme.



\begin{trditev}
\label{density theorem}
Za vsako majhno kategorijo $\cat{C}$, se vsak objekt $P$ funktorske kategorije $\predsnop{C}$, da izraziti kot kolimito predstavljivih funktorjev iz neke indeksne kategorije $J$.
$$ P \cong \colim_{j \in J} yC_j.$$
Bolj natančno obstaja kanonična izbira indeksne kategorije $J$ in funktorja $\pi : J \to \cat{C}$, tako da obstaja naravni izomorfizem $\colim y \circ \pi \cong P$.
\end{trditev}
\begin{dokaz}
Naj bo torej $P : \cat{C}^{op} \to \cat{Sets}$ element kategorije predsnopov nad $\cat{C}$. Za indeksno kategorijo bomo definirali tako imenovano \emph{kategorijo elementov P}, ki se jo označuje z
$$\int_{\cat{C}}P,$$
ki ima za
\begin{enumerate}
\item \emph{Objekte}: pare $(x,C)$, kjer je $C \in \cat{C}$ in $x \in P(C)$.
\item \emph{Morfizme}: trojice $(h, (x',C'), (x,C))$, kjer je $h : C' \to C$ morfizem v $\cat{C}$, tako da velja $Ph(x) = x'$. Zaradi priročnosti te morfizme ponavadi označujemo kar z $h : (x', C') \to (x,C)$ in se zavedamo da morajo zadoščati pogoju.
Identiteta na $(x,C)$ je kar podedovana identiteta na $C$, kajti funktor ohranja indetitete. Kompozitum dveh takih morfizmov je spet tak morfizem kajti za $h : (x'', C'') \to (x', C')$ in $k : (x', C') \to (x,C)$ velja $P(k \circ h)(x) = Ph \circ Pk(x) = Ph(x') = x''$.
\end{enumerate}

Definiramo funktor $\pi : \int_{\cat{C}}P \to \cat{C}$, kot $\pi(x,C) = C$ in trdimo, da velja $\colim y\circ \pi (x,C) \cong P$. Da bo to res kolimita potrebujemo morfizme $y\circ \pi (x,C) \to P$ za vsak $(x,C) \in \int_{\cat{C}}P$. Po Yonedovi lemi imamo bijekcijo
$$x \in PC \leftrightsquigarrow x:yC \to P$$

ki je naravna v $C$, torej za $h: (x',C') \to (x,C)$ naslednji diagram
$$ \begin{tikzcd}
yC' \ar[rr, "yh"] \ar[rd, "x'"'] & & yC \ar[ld, "x"] \\
& P &
\end{tikzcd} $$
komutira. Za komponente kostožca nad $y \circ \pi$ torej vzamemo naravne transformacije $x : yC \to P$. Da je to res kolimita, denimo, da obstaja nek drug stožec $y \circ \pi \to Q$ z komponentami $\vartheta_{(x,C)} : yC \to Q$. Iščemo torej tako enolično naravno transformacijo, da naslednji diagram komutira.

$$\begin{tikzcd}
yC' \ar[rr, "yh"] \ar[ddr, bend right, "\vartheta_{(x',C')}"'] \ar[rd, "x'"'] & & yC \ar[ld, "x"] \ar[ddl, bend left, "\vartheta_{(x,C)}"] \\
& P \ar[d, dashed, "\vartheta"] & \\
& Q &
\end{tikzcd} $$
Ponovno lahko po Yonedovi lemi identificiramo 
$$\vartheta_{(x,C)}: yC \to Q \leftrightsquigarrow \vartheta_{(x,C)} \in QC$$
in za komponente naravne transformacije $\vartheta P \to Q$ vzamemo kar funkcijo, ki jo inducira ta bijekcija, torej 
$$\vartheta_C : PC \to QC \quad \vartheta_C(x) = \vartheta_{(x,C)}$$
ker je zgornji izomorfizem naraven v C to implicira komutativnost diagrama. Preveriti je potrebno še enoličnost $\vartheta$. Naj bo torej $\psi : P \to Q$, tak, da stranice trikotnika komutirajo. Potem velja $\psi \circ x = \vartheta_{(x,C)} = \vartheta \circ x$.
\end{dokaz}



Kako je pa z eksponenti v $\cat{Sets}^{\cat{C}^{op}}$ ? Če so $X,Q,P$ funktorji v $\predsnop{C}$. Kako bi definirali eksponentni objekt $Q^P$ ? Po Yonedovi lemi bi moralo veljati $Q^P(C) \cong \Hom(yC, Q^P)$. Če pa želimo, da ta objekt izpolnjuje lastnost eksponenta, mora veljati
$$\Hom(yC,Q^P) \cong \Hom(yC \times P, Q).$$
po lastnosti transponiranja. Ker pa $\predsnop{C}$ ima produkte, kajti ima vse končne limite, množica $\Hom(yC \times P, Q)$ obstaja. Na ta način tudi definiramo eksponent.

\begin{trditev}
Za lokalno majhno kategorijo $\cat{C}$, za vse $X,P,Q$ v $\predsnop{C}$ obstaja izomorfizem
$$\Hom(X,Q^P) \cong \Hom(X \times P, Q),$$
ki je naraven v $X$.
\end{trditev}


Najprej potrebujemo še dodatno lemo
\begin{lema}

\end{lema}


\begin{dokaz}
Po \ref{density theorem} velja, da obstaja indeksna kategorija $J$, da je
$$ X \cong \underset{j \in J}{\colim}\> yCj,$$
izbrana na kanoničen način.

\end{dokaz}








\end{document}
